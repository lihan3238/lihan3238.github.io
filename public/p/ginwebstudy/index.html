<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='ginWebæ¡†æ¶åŸºç¡€å­¦ä¹ ï¼ˆVScode&#43;golang&#43;ubuntu22.04.3LTSï¼‰'>
<title>ginWebæ¡†æ¶å­¦ä¹ </title>

<link rel='canonical' href='lihan3238.github.io/p/ginwebstudy/'>

<link rel="stylesheet" href="/lihan3238.github.io/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css"><meta property='og:title' content='ginWebæ¡†æ¶å­¦ä¹ '>
<meta property='og:description' content='ginWebæ¡†æ¶åŸºç¡€å­¦ä¹ ï¼ˆVScode&#43;golang&#43;ubuntu22.04.3LTSï¼‰'>
<meta property='og:url' content='lihan3238.github.io/p/ginwebstudy/'>
<meta property='og:site_name' content='æå¯’çš„å°çª'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='gin' /><meta property='article:tag' content='go' /><meta property='article:published_time' content='2023-09-11T13:40:00&#43;08:00'/><meta property='article:modified_time' content='2023-09-11T13:40:00&#43;08:00'/><meta property='og:image' content='/lihan3238.github.io/p/ginwebstudy/gin.png' />
<meta name="twitter:site" content="@lihan3238">
    <meta name="twitter:creator" content="@lihan3238"><meta name="twitter:title" content="ginWebæ¡†æ¶å­¦ä¹ ">
<meta name="twitter:description" content="ginWebæ¡†æ¶åŸºç¡€å­¦ä¹ ï¼ˆVScode&#43;golang&#43;ubuntu22.04.3LTSï¼‰"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='/lihan3238.github.io/p/ginwebstudy/gin.png' />
    <link rel="shortcut icon" href="/favicon.ico" />
<script>
    var OriginTitile = document.title;
    var titleTime;
    document.addEventListener('visibilitychange', function () {
        if (document.hidden) {
            document.title = 'ä½ çœ‹ä¸è§å°å¯’ğŸ˜...çœ‹ä¸è§...çœ‹ä¸è§...';
            clearTimeout(titleTime);
        } else {
            document.title = 'å°å¯’è¿˜æ˜¯è¢«å‘ç°äº†ğŸ˜­';
            titleTime = setTimeout(function () {
                document.title = OriginTitile;
            }, 2000);
        }
    });
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/lihan3238.github.io">
                
                    
                    
                    
                        
                        <img src="/lihan3238.github.io/img/avatar_hue2d48df9d1146ee8ae3a8338fdfa1a6d_115877_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ˜</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/lihan3238.github.io">æå¯’çš„å°çª</a></h1>
            <h2 class="site-description">ç™½é©¬å•¸è¥¿é£</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/lihan3238'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:lihan323830@gmail.com'
                        target="_blank"
                        title="Mail"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" />
  <path d="M3 7l9 6l9 -6" />
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='lihan3238.github.io/index.xml'
                        target="_blank"
                        title="Rss"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://lihan3238.github.io/p/support_lihan'
                        target="_blank"
                        title="Support"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-coin" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
  <path d="M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1" />
  <path d="M12 7v10" />
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='lihan3238.github.io/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='lihan3238.github.io/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='lihan3238.github.io/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='lihan3238.github.io/%E5%8F%8B%E9%93%BE%E5%B1%95%E6%9D%BF/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹é“¾å±•æ¿</span>
            </a>
        </li>
        
        
        <li >
            <a href='lihan3238.github.io/%E6%9B%B4%E6%96%B0%E8%AE%A1%E5%88%92/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-list-details" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M13 5h8" />
  <path d="M13 9h5" />
  <path d="M13 15h8" />
  <path d="M13 19h5" />
  <path d="M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
  <path d="M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
</svg>
                
                <span>æ›´æ–°è®¡åˆ’</span>
            </a>
        </li>
        
        
        <li >
            <a href='lihan3238.github.io/%E7%BD%91%E7%AB%99%E5%AF%BC%E8%88%AA/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sign-left" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M16 21h-4" />
  <path d="M14 21v-10" />
  <path d="M14 6v-3" />
  <path d="M18 6h-10l-2 2.5l2 2.5h10z" />
</svg>
                
                <span>ç½‘ç«™å¯¼èˆª</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>æš—è‰²æ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#gin">gin</a>
      <ol>
        <li><a href="#ginå®‰è£…ä¸ç¯å¢ƒé…ç½®">ginå®‰è£…ä¸ç¯å¢ƒé…ç½®</a></li>
        <li><a href="#ginæ•™ç¨‹">ginæ•™ç¨‹</a>
          <ol>
            <li><a href="#ginå¯åŠ¨æ–¹å¼">ginå¯åŠ¨æ–¹å¼</a></li>
            <li><a href="#ginè§†å›¾-view">ginè§†å›¾ view</a></li>
            <li><a href="#è¯·æ±‚å¤´ä¸å“åº”å¤´">è¯·æ±‚å¤´ä¸å“åº”å¤´</a></li>
            <li><a href="#bindç»‘å®šå‚æ•°">bindç»‘å®šå‚æ•°</a></li>
            <li><a href="#ä¸Šä¼ ä¸‹è½½æ–‡ä»¶">ä¸Šä¼ ä¸‹è½½æ–‡ä»¶</a></li>
            <li><a href="#ä¸­é—´ä»¶å’Œè·¯ç”±">ä¸­é—´ä»¶å’Œè·¯ç”±</a></li>
            <li><a href="#gin-logæ—¥å¿—">gin logæ—¥å¿—</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="lihan3238.github.io/p/ginwebstudy/">
                <img src="/lihan3238.github.io/p/ginwebstudy/gin_hue87b07cedf5bdfb5822b08cbf7ba1c33_87064_800x0_resize_box_3.png"
                        srcset="/lihan3238.github.io/p/ginwebstudy/gin_hue87b07cedf5bdfb5822b08cbf7ba1c33_87064_800x0_resize_box_3.png 800w, /lihan3238.github.io/p/ginwebstudy/gin_hue87b07cedf5bdfb5822b08cbf7ba1c33_87064_1600x0_resize_box_3.png 1600w"
                        width="800" 
                        height="1125" 
                        loading="lazy"
                        alt="Featured image of post ginWebæ¡†æ¶å­¦ä¹ " />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="lihan3238.github.io/categories/techstudy/" style="background-color: #2a9d8f; color: #fff;">
                techStudy
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="lihan3238.github.io/p/ginwebstudy/">ginWebæ¡†æ¶å­¦ä¹ </a>
        </h2>
    
        
        <h3 class="article-subtitle">
            ginWebæ¡†æ¶åŸºç¡€å­¦ä¹ ï¼ˆVScode&#43;golang&#43;ubuntu22.04.3LTSï¼‰
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Sep 11, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 18 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="ginwebæ¡†æ¶å­¦ä¹ ubuntu22043">ginWebæ¡†æ¶å­¦ä¹ (ubuntu22.04.3)</h1>
<ul>
<li><a class="link" href="https://github.com/lihan3238/ginWebStudy"  target="_blank" rel="noopener"
    >ä»£ç ä»“åº“</a></li>
</ul>
<h2 id="gin">gin</h2>
<ul>
<li><a class="link" href="https://gin-gonic.com/zh-cn/"  target="_blank" rel="noopener"
    >ginå®˜ç½‘</a></li>
<li><a class="link" href="https://gin-gonic.com/zh-cn/docs/"  target="_blank" rel="noopener"
    >ginä¸­æ–‡æ–‡æ¡£</a></li>
</ul>
<h3 id="ginå®‰è£…ä¸ç¯å¢ƒé…ç½®">ginå®‰è£…ä¸ç¯å¢ƒé…ç½®</h3>
<ol>
<li>å®‰è£…gin</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># åˆ‡æ¢å›½å†…ä»£ç†</span>
</span></span><span class="line"><span class="cl"><span class="nv">GOPROXY</span><span class="o">=</span>https://goproxy.cn,direct
</span></span><span class="line"><span class="cl"><span class="c1"># å®‰è£…gin</span>
</span></span><span class="line"><span class="cl">go get -u github.com/gin-gonic/gin
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>å®‰è£…postman</li>
</ol>
<p><a class="link" href="https://www.postman.com/"  target="_blank" rel="noopener"
    >postmanå®˜ç½‘</a>
ç”¨äºè°ƒè¯•postè¯·æ±‚æ¥å£ç”¨</p>
<ol start="3">
<li>æµ‹è¯•ginæ˜¯å¦å®‰è£…æˆåŠŸ</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">context</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">context</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;Hello lihan!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># è¿è¡Œ</span>
</span></span><span class="line"><span class="cl">go run main.go
</span></span><span class="line"><span class="cl"><span class="c1"># è®¿é—®[ä¸»æœºåœ°å€]:8080/index</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ä¾‹å¦‚ 127.0.0.1:8080/index</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æ˜¾ç¤º Hello World! åˆ™å®‰è£…æˆåŠŸ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ginæ•™ç¨‹">ginæ•™ç¨‹</h3>
<h4 id="ginå¯åŠ¨æ–¹å¼">ginå¯åŠ¨æ–¹å¼</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Index2</span><span class="p">(</span><span class="nx">context</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">context</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;Hello lihan2!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//åˆ›å»ºä¸€ä¸ªé»˜è®¤è·¯ç”±å¼•æ“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//æ³¨å†Œä¸€ä¸ªè·¯ç”±å’Œå¤„ç†å‡½æ•°ï¼Œè®¿é—®/indexçš„è·¯ç”±æ—¶ï¼Œä¼šæ‰§è¡Œåé¢çš„åŒ¿åå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">context</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">context</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;Hello lihan!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å¦ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å·²ç»å£°æ˜çš„å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index2&#34;</span><span class="p">,</span> <span class="nx">Index2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//å¯åŠ¨HTTPæœåŠ¡,ginä¼šé»˜è®¤æŠŠwebæœåŠ¡å™¨è¿è¡Œåœ¨æœ¬æœºçš„0.0.0.0:8080ç«¯å£ä¸Š(å³æ‰€æœ‰ç½‘å¡IPçš„8080ç«¯å£)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç¬¬äºŒç§å¯åŠ¨æ–¹å¼ï¼Œç”¨åŸç”ŸhttpæœåŠ¡çš„æ–¹å¼å¯åŠ¨ï¼Œè¿™ç§æ–¹å¼å¯ä»¥å®ç°æ›´å¤šçš„è‡ªå®šä¹‰é…ç½®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//http.ListenAndServe(&#34;:8080&#34;, router)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ginè§†å›¾-view">ginè§†å›¾ view</h4>
<h5 id="å“åº”-response">å“åº” response</h5>
<ol>
<li>çŠ¶æ€ç </li>
</ol>
<ul>
<li><a class="link" href="https://zh.wikipedia.org/zh-hans/HTTP%E7%8A%B6%E6%80%81%E7%A0%81"  target="_blank" rel="noopener"
    >çŠ¶æ€ç </a></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">200</span> <span class="nx">è¡¨ç¤ºæ­£å¸¸å“åº”</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusOk</span>
</span></span><span class="line"><span class="cl"><span class="c1">//å¸¸è§çŠ¶æ€ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">200</span> <span class="o">-</span> <span class="nx">è¯·æ±‚æˆåŠŸ</span>
</span></span><span class="line"><span class="cl"><span class="mi">301</span> <span class="o">-</span> <span class="nx">èµ„æº</span><span class="err">ï¼ˆ</span><span class="nx">ç½‘é¡µç­‰</span><span class="err">ï¼‰</span><span class="nx">è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒURL</span>
</span></span><span class="line"><span class="cl"><span class="mi">404</span> <span class="o">-</span> <span class="nx">è¯·æ±‚çš„èµ„æº</span><span class="err">ï¼ˆ</span><span class="nx">ç½‘é¡µç­‰</span><span class="err">ï¼‰</span><span class="nx">ä¸å­˜åœ¨</span>
</span></span><span class="line"><span class="cl"><span class="mi">500</span> <span class="o">-</span> <span class="nx">å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</span>
</span></span><span class="line"><span class="cl"><span class="c1">//çŠ¶æ€ç åˆ†ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="mi">1</span><span class="o">**</span>	<span class="nx">ä¿¡æ¯</span><span class="err">ï¼Œ</span><span class="nx">æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</span><span class="err">ï¼Œ</span><span class="nx">éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span>	<span class="nx">æˆåŠŸ</span><span class="err">ï¼Œ</span><span class="nx">æ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span><span class="o">**</span>	<span class="nx">é‡å®šå‘</span><span class="err">ï¼Œ</span><span class="nx">éœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</span>
</span></span><span class="line"><span class="cl"><span class="mi">4</span><span class="o">**</span>	<span class="nx">å®¢æˆ·ç«¯é”™è¯¯</span><span class="err">ï¼Œ</span><span class="nx">è¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span><span class="o">**</span>	<span class="nx">æœåŠ¡å™¨é”™è¯¯</span><span class="err">ï¼Œ</span><span class="nx">æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>è¿”å›å­—ç¬¦ä¸²</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;ä½ å¥½å•Šï¼&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>è¿”å›json <strong>é‡ç‚¹</strong></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/json&#34;</span><span class="p">,</span> <span class="nx">ginJson</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//ginJsonå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">ginJson</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//jsonå“åº”ç»“æ„ä½“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">UserName</span> <span class="kt">string</span> <span class="s">`json:&#34;username-json&#34;`</span> <span class="c1">//è¿”å›ç»™å‰ç«¯çš„å­—æ®µå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Age</span>      <span class="kt">int</span>    <span class="s">`json:&#34;age_json&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="nx">PassWord</span> <span class="kt">string</span> <span class="s">`json:&#34;-&#34;`</span> <span class="c1">//&#34;-&#34;ä¸ä¼šè¿”å›ç»™å‰ç«¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//user := UserInfo{&#34;lihan&#34;, 32, &#34;123456&#34;}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//c.JSON(200, user)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//jsonå“åº”map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//userMap := map[string]string{
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;user_name&#34;: &#34;lihan&#34;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//	&#34;age&#34;:       &#34;32&#34;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//c.JSON(200, userMap)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ç›´æ¥å“åº”json
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;user_name&#34;</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">:</span> <span class="mi">32</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>è¿”å›xmlå’Œyaml</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/xml&#34;</span><span class="p">,</span> <span class="nx">ginXml</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/yaml&#34;</span><span class="p">,</span> <span class="nx">ginYaml</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ginXmlã€ginYamlå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">ginXml</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">XML</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;user_name&#34;</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s">&#34;status&#34;</span><span class="p">:</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span> <span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#34;name&#34;</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">}})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ginYaml</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">YAML</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;user_name&#34;</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="s">&#34;age&#34;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s">&#34;status&#34;</span><span class="p">:</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusOK</span><span class="p">,</span> <span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#34;name&#34;</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">}})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>è¿”å›html</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">LoadHTMLGlob</span><span class="p">(</span><span class="s">&#34;templates/*&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/html&#34;</span><span class="p">,</span> <span class="nx">ginHtml</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//ginHtmlå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">ginHtml</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">UserName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Age</span>      <span class="kt">int</span>
</span></span><span class="line"><span class="cl">		<span class="nx">PassWord</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">user</span> <span class="o">:=</span> <span class="nx">UserInfo</span><span class="p">{</span><span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="s">&#34;123456&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">HTML</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;index.html&#34;</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//c.HTML(200, &#34;index.html&#34;, gin.H{&#34;user_name&#34;: &#34;lihan&#34;, &#34;age&#34;: 32, &#34;status&#34;: http.StatusOK, &#34;data&#34;: gin.H{&#34;id&#34;: 1, &#34;name&#34;: &#34;lihan&#34;}})
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="c1">//gin.H()å¯ä»¥å‘htmlä¼ å‚
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{/*  templates/index.html  */}}
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>é¦–é¡µ<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>å“åº”html {{ .UserName}}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{/* <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>å“åº”html {{ .data.name}}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span> */}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>å“åº”æ–‡ä»¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//golangä¸­ï¼Œæ²¡æœ‰ç›¸å¯¹æ–‡ä»¶çš„è·¯å¾„ï¼Œåªæœ‰ç›¸å¯¹é¡¹ç›®çš„è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//é…ç½®å•ä¸ªæ–‡ä»¶ï¼Œç½‘é¡µè¯·æ±‚çš„è·¯ç”±ï¼Œæ–‡ä»¶è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">StaticFile</span><span class="p">(</span><span class="s">&#34;/downloads/lihan.png&#34;</span><span class="p">,</span> <span class="s">&#34;static/lihan.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//é…ç½®æ–‡ä»¶å¤¹ï¼Œç½‘é¡µè¯·æ±‚çš„è·¯ç”±ï¼Œæ–‡ä»¶å¤¹è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">StaticFS</span><span class="p">(</span><span class="s">&#34;/downloads/files&#34;</span><span class="p">,</span> <span class="nx">http</span><span class="p">.</span><span class="nf">Dir</span><span class="p">(</span><span class="s">&#34;static/texts&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//é…ç½®jsã€cssã€å›¾ç‰‡ç­‰èµ„æº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">Static</span><span class="p">(</span><span class="s">&#34;/static&#34;</span><span class="p">,</span> <span class="s">&#34;static&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//htmlä¸­å¼•ç”¨èµ„æº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="p">=</span><span class="s">&#34;/static/resource/baidu.png&#34;</span> <span class="nx">alt</span><span class="p">=</span><span class="s">&#34;baidu&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="p">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="nx">href</span><span class="p">=</span><span class="s">&#34;/static/css/style.css&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><!-- raw HTML omitted -->
<ul>
<li>é¡¹ç›®æ–‡ä»¶å¤¹[gowebstudy]
<ul>
<li>static
<ul>
<li>texts
<ul>
<li>test.txt</li>
</ul>
</li>
<li>lihan.png</li>
<li>pwd.txt</li>
</ul>
</li>
<li>2.gin_viewè§†å›¾
<ul>
<li>2.1responseå“åº”.go</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="7">
<li>redirect é‡å®šå‘</li>
</ol>
<ul>
<li>
<p>HTTP 301 Moved Permanently (æ°¸ä¹…é‡å®šå‘):
å½“æœåŠ¡å™¨è¿”å›HTTPçŠ¶æ€ç 301æ—¶ï¼Œå®ƒå‘Šè¯‰å®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„URLã€‚
æµè§ˆå™¨ï¼ˆæˆ–å…¶ä»–HTTPå®¢æˆ·ç«¯ï¼‰ä¼šè®°ä½è¿™ä¸ªæ°¸ä¹…é‡å®šå‘ï¼Œä»¥åçš„è¯·æ±‚éƒ½ä¼šç›´æ¥è½¬å‘æ–°çš„URLï¼Œè€Œä¸å†è¯·æ±‚åŸå§‹URLï¼Œå¯ç¼“å­˜ã€‚</p>
</li>
<li>
<p>HTTP 302 Found (ä¸´æ—¶é‡å®šå‘):
å½“æœåŠ¡å™¨è¿”å›HTTPçŠ¶æ€ç 302æ—¶ï¼Œå®ƒå‘Šè¯‰å®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå·²ä¸´æ—¶ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„URLã€‚
æµè§ˆå™¨ä¼šå°†è¿™ä¸ªé‡å®šå‘è§†ä¸ºä¸´æ—¶æ€§è´¨ï¼Œå› æ­¤ä¸ä¼šè®°ä½æ–°çš„URLï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°è¯·æ±‚åŸå§‹URLï¼Œä¸å¯ç¼“å­˜</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/lihan&#34;</span><span class="p">,</span> <span class="nx">ginRedirect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//ginRedirectå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">ginRedirect</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Redirect</span><span class="p">(</span><span class="mi">301</span><span class="p">,</span> <span class="s">&#34;https://lihan3238.github.io/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="è¯·æ±‚-request">è¯·æ±‚ request</h5>
<ol>
<li>Query æŸ¥è¯¢å‚æ•°</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">_query</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="s">&#34;username&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//c.GetQueryä»…åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œä¸åˆ¤æ–­æ˜¯å¦ä¸ºç©º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">GetQuery</span><span class="p">(</span><span class="s">&#34;username&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//c.QueryArrayè·å–å…¨éƒ¨usernameçš„å€¼ï¼Œè¿”å›ä¸€ä¸ªåˆ‡ç‰‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">QueryArray</span><span class="p">(</span><span class="s">&#34;username&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//c.DefaultQueryè·å–usernameçš„å€¼ï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›é»˜è®¤å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">DefaultQuery</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">,</span><span class="s">&#34;default_id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//?id=2&amp;username=lihan&amp;username=op
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/query&#34;</span><span class="p">,</span> <span class="nx">_query</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//è®¿é—®ï¼šhttp://192.168.56.105:8080/query?id=2&amp;username=lihan&amp;username=op
</span></span></span><span class="line"><span class="cl"><span class="c1">//è¿”å›ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">lihan</span>
</span></span><span class="line"><span class="cl"><span class="nx">lihan</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">lihan</span> <span class="nx">op</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Param åŠ¨æ€å‚æ•°</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/param/:user_id&#34;</span><span class="p">,</span> <span class="nx">_param</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/param/:user_id/:book_id&#34;</span><span class="p">,</span> <span class="nx">_param</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//_paramå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">_param</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;user_id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;book_id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//http://192.168.56.105:8080/param/user1/book2
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>PostForm è¡¨å•å‚æ•°</li>
</ol>
<ul>
<li>è¦ä½¿ç”¨Postè€ŒéGetè¯·æ±‚</li>
<li>å¯ä»¥æ¥æ”¶ multipart/form-data å’Œ application/x-www-form-urlencoded ç±»å‹çš„æ•°æ®</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/form&#34;</span><span class="p">,</span> <span class="nx">_form</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//_formå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">_form</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">PostForm</span><span class="p">(</span><span class="s">&#34;username&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">PostFormArray</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">DefaultPostForm</span><span class="p">(</span><span class="s">&#34;addr&#34;</span><span class="p">,</span> <span class="s">&#34;default_addr&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/postman1.png"
	width="1620"
	height="1010"
	srcset="/lihan3238.github.io/p/ginwebstudy/postman1_hu273a701db69a923c9344206a2611a7ba_150781_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/postman1_hu273a701db69a923c9344206a2611a7ba_150781_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="postman"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="384px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># è¿”å›</span>
</span></span><span class="line"><span class="cl">lihan
</span></span><span class="line"><span class="cl"><span class="o">[</span><span class="m">123456</span> 88888<span class="o">]</span>
</span></span><span class="line"><span class="cl">default_addr
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>GetRawData è·å–åŸå§‹å‚æ•°</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/rawdata&#34;</span><span class="p">,</span> <span class="nx">_rawData</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//_rawDataå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">_rawData</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//fmt.Println(c.GetRawData())
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">body</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetRawData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">body</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><!-- raw HTML omitted -->
<p><img src="/lihan3238.github.io/p/ginwebstudy/postman2.png"
	width="1620"
	height="1010"
	srcset="/lihan3238.github.io/p/ginwebstudy/postman2_hu0c7395d83249f67653b525ef4736d502_147406_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/postman2_hu0c7395d83249f67653b525ef4736d502_147406_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="postman"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="384px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># è¿”å›</span>
</span></span><span class="line"><span class="cl"><span class="nv">name</span><span class="o">=</span>abcde
</span></span></code></pre></td></tr></table>
</div>
</div><!-- raw HTML omitted -->
<p><img src="/lihan3238.github.io/p/ginwebstudy/postman3.png"
	width="1620"
	height="1010"
	srcset="/lihan3238.github.io/p/ginwebstudy/postman3_hu273a701db69a923c9344206a2611a7ba_147232_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/postman3_hu273a701db69a923c9344206a2611a7ba_147232_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="postman"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="384px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Content-Disposition: form-data<span class="p">;</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&#34;name&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">abcd
</span></span><span class="line"><span class="cl">----------------------------609676969091043609505229--
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>GetRawData åºåˆ—åŒ–Jsonä¸ç±»å‹ç»‘å®š</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/rawdata2&#34;</span><span class="p">,</span> <span class="nx">_rawData2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//_rawData2å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_rawData2</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">body</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetRawData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">contentType</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">contentType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="s">&#34;application/json&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Username</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Password</span> <span class="kt">int</span>    <span class="s">`json:&#34;pwd&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">json</span><span class="p">.</span><span class="nf">Unmarshal</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/postman4.png"
	width="1620"
	height="988"
	srcset="/lihan3238.github.io/p/ginwebstudy/postman4_hubf944298945c8f0ebda0d3f5d7066542_135204_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/postman4_hubf944298945c8f0ebda0d3f5d7066542_135204_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="postman"
	
	
		class="gallery-image" 
		data-flex-grow="163"
		data-flex-basis="393px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">{</span>lihan 123456<span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><!-- raw HTML omitted -->
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">bandJson</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">obj</span> <span class="nx">any</span><span class="p">)</span> <span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">body</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetRawData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">contentType</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">contentType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="s">&#34;application/json&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">json</span><span class="p">.</span><span class="nf">Unmarshal</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_rawData2</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Username</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Password</span> <span class="kt">int</span>    <span class="s">`json:&#34;pwd&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nf">bandJson</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>å››å¤§è¯·æ±‚æ–¹å¼</li>
</ol>
<p>Restfulé£æ ¼æŒ‡çš„æ˜¯ç½‘ç»œåº”ç”¨ä¸­èµ„æºå®šä½å’Œèµ„æºæ“ä½œçš„é£æ ¼ã€‚
ä¸æ˜¯æ ‡å‡†ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚</p>
<ul>
<li>GET : ä»æœåŠ¡å™¨å–å‡ºèµ„æºï¼ˆä¸€é¡¹æˆ–å¤šé¡¹ï¼‰</li>
<li>POST : åœ¨æœåŠ¡å™¨æ–°å»ºä¸€ä¸ªèµ„æº</li>
<li>PUT : åœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜åçš„å®Œæ•´èµ„æºï¼‰</li>
<li>PATCH(å°‘) : åœ¨æœåŠ¡å™¨æ›´æ–°èµ„æºï¼ˆå®¢æˆ·ç«¯æä¾›æ”¹å˜çš„å±æ€§ï¼‰</li>
<li>DELETE : ä»æœåŠ¡å™¨åˆ é™¤èµ„æº</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span><span class="lnt">94
</span><span class="lnt">95
</span><span class="lnt">96
</span><span class="lnt">97
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//ä»¥æ–‡å­—èµ„æºä¸ºä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//GET		/articles		åˆ—å‡ºæ‰€æœ‰æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1">//GET		/articles/:id	è·å–æ–‡ç« è¯¦æƒ…
</span></span></span><span class="line"><span class="cl"><span class="c1">//POST		/articles		æ–°å»ºä¸€ç¯‡æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1">//PUT		/articles/:id	æ›´æ–°æŸç¯‡æ–‡ç« çš„ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1">//DELETE	/articles/:id	åˆ é™¤æŸç¯‡æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/articles&#34;</span><span class="p">,</span> <span class="nx">_getList</span><span class="p">)</span>       <span class="c1">// æ–‡ç« åˆ—è¡¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/articles/:id&#34;</span><span class="p">,</span> <span class="nx">_getDetail</span><span class="p">)</span> <span class="c1">// æ–‡ç« è¯¦æƒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/articles&#34;</span><span class="p">,</span> <span class="nx">_create</span><span class="p">)</span>       <span class="c1">// æ–°å»ºæ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">PUT</span><span class="p">(</span><span class="s">&#34;/articles/:id&#34;</span><span class="p">,</span> <span class="nx">_update</span><span class="p">)</span>    <span class="c1">// ä¿®æ”¹æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">DELETE</span><span class="p">(</span><span class="s">&#34;/articles/:id&#34;</span><span class="p">,</span> <span class="nx">_delete</span><span class="p">)</span> <span class="c1">// åˆ é™¤æ–‡ç« 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//å‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">type</span> <span class="nx">ArticleModel</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Title</span>   <span class="kt">string</span> <span class="s">`json:&#34;title&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Content</span> <span class="kt">string</span> <span class="s">`json:&#34;content&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Response</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Code</span> <span class="kt">int</span>    <span class="s">`json:&#34;code&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Data</span> <span class="nx">any</span>    <span class="s">`json:&#34;data&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Msg</span>  <span class="kt">string</span> <span class="s">`json:&#34;msg&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_bandJson</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">obj</span> <span class="nx">any</span><span class="p">)</span> <span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">body</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetRawData</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">contentType</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">contentType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="s">&#34;application/json&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">json</span><span class="p">.</span><span class="nf">Unmarshal</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_getList</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åŒ…å«æœç´¢ã€åˆ†é¡µç­‰åŠŸèƒ½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">articleList</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">ArticleModel</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Title</span><span class="p">:</span> <span class="s">&#34;Goè¯­è¨€å…¥é—¨&#34;</span><span class="p">,</span> <span class="nx">Content</span><span class="p">:</span> <span class="s">&#34;æœ¬æ–‡æ˜¯Goè¯­è¨€å…¥é—¨æŒ‡å—&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Title</span><span class="p">:</span> <span class="s">&#34;Stellariseç¾¤æ˜Ÿæ”»ç•¥&#34;</span><span class="p">,</span> <span class="nx">Content</span><span class="p">:</span> <span class="s">&#34;æœ¬æ–‡æ˜¯Stellariseç¾¤æ˜Ÿæ”»ç•¥&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Title</span><span class="p">:</span> <span class="s">&#34;é©¬å…‹æ€ä¸»ä¹‰å­¦ä¹ æŒ‡å—&#34;</span><span class="p">,</span> <span class="nx">Content</span><span class="p">:</span> <span class="s">&#34;æœ¬æ–‡æ˜¯é©¬å…‹æ€æ³¨æ„å­¦ä¹ æŒ‡å—&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Title</span><span class="p">:</span> <span class="s">&#34;æå¯’ä¸ªäººä»‹ç»&#34;</span><span class="p">,</span> <span class="nx">Content</span><span class="p">:</span> <span class="s">&#34;æœ¬æ–‡æ˜¯æå¯’ä¸ªäººä»‹ç»&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//c.JSON(200, articleList)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æ¥å£å°è£…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="nx">articleList</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_getDetail</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è·å–paramsä¸­çš„id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//çœç•¥æŸ¥è¯¢æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">article</span> <span class="o">:=</span> <span class="nx">ArticleModel</span><span class="p">{</span><span class="nx">Title</span><span class="p">:</span> <span class="s">&#34;æå¯’ä¸ªäººä»‹ç»&#34;</span><span class="p">,</span> <span class="nx">Content</span><span class="p">:</span> <span class="s">&#34;æœ¬æ–‡æ˜¯æå¯’ä¸ªäººä»‹ç»&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_create</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ¥å—å‰ç«¯ä¼ æ¥çš„JSONæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">article</span> <span class="nx">ArticleModel</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nf">_bandJson</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">article</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="s">&#34;å‚æ•°é”™è¯¯&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//çœç•¥æ’å…¥æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_update</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è·å–paramsä¸­çš„id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//çœç•¥æŸ¥è¯¢æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æ¥å—å‰ç«¯ä¼ æ¥çš„JSONæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">article</span> <span class="nx">ArticleModel</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nf">_bandJson</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">article</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="s">&#34;å‚æ•°é”™è¯¯&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//çœç•¥æ’å…¥æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="nx">article</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_delete</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//çœç•¥æŸ¥è¯¢æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//è·å–paramsä¸­çš„id
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">Param</span><span class="p">(</span><span class="s">&#34;id&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//çœç•¥åˆ é™¤æ•°æ®åº“çš„è¿‡ç¨‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{},</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="è¯·æ±‚å¤´ä¸å“åº”å¤´">è¯·æ±‚å¤´ä¸å“åº”å¤´</h4>
<ol>
<li>Request Header è¯·æ±‚å¤´</li>
</ol>
<p>è¯·æ±‚å¤´å‚æ•°è·å–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//è·å–è¯·æ±‚å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//å•è¯é¦–å­—æ¯å¤§å°å†™ä¸åŒºåˆ†ï¼Œå•è¯ä¹‹é—´ç”¨&#34;-&#34;åˆ†å‰²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//ç”¨äºè·å–ä¸€ä¸ªè¯·æ±‚å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;User-Agent&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Request</span><span class="p">.</span><span class="nx">Header</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;User-Agent&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//fmt.Println(c.GetHeader(&#34;user-agent&#34;))
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//fmt.Println(c.GetHeader(&#34;user-Agent&#34;))
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">		<span class="c1">//Headeræ˜¯ä¸€ä¸ªmap[string][]stringç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Request</span><span class="p">.</span><span class="nx">Header</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//è·å–æ‰€æœ‰è¯·æ±‚å¤´,åŒºåˆ†å¤§å°å†™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Request</span><span class="p">.</span><span class="nx">Header</span><span class="p">[</span><span class="s">&#34;User-Agent&#34;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ok&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ©ç”¨è¯·æ±‚å¤´ï¼Œå°†çˆ¬è™«å’Œç”¨æˆ·åŒºåˆ«å¯¹å¾…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="c1">//åˆ©ç”¨è¯·æ±‚å¤´ï¼Œå°†çˆ¬è™«å’Œç”¨æˆ·åŒºåˆ«å¯¹å¾…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">userAgent</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;User-Agent&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//æ–¹æ³•ä¸€ æ­£åˆ™å»åŒ¹é…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//å­—ç¬¦ä¸²çš„åŒ…å«åŒ¹é…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="nx">userAgent</span><span class="p">,</span> <span class="s">&#34;python&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//çˆ¬è™«æ¥äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="s">&#34;è¿™æ˜¯ä¸€ä¸ªçˆ¬è™«&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="s">&#34;è¿™æ˜¯ä¸€ä¸ªç”¨æˆ·&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Response Header å“åº”å¤´</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="c1">//è®¾ç½®å“åº”å¤´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/res&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">,</span> <span class="s">&#34;application/text; charset=utf-8&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="s">&#34;çœ‹çœ‹å“åº”å¤´&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman5.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<h4 id="bindç»‘å®šå‚æ•°">bindç»‘å®šå‚æ•°</h4>
<p>ginä¸­bindå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†å‰ç«¯ä¼ é€’æ¥çš„æ•°æ®ä¸ ç»“æ„ä½“ è¿›è¡Œ å‚æ•°ç»‘å®š ä»¥åŠ å‚æ•°æ ¡éªŒã€‚</p>
<h5 id="å‚æ•°ç»‘å®š">å‚æ•°ç»‘å®š</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//ShouldBindJSON
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sex</span>  <span class="kt">string</span> <span class="s">`json:&#34;sex&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userInfo</span> <span class="nx">UserInfo</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBindJSON</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä½ é”™&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman6.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//ShouldBindQuery
</span></span></span><span class="line"><span class="cl"><span class="c1">//tagå¯¹åº”ä¸ºform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34; form:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34; form:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sex</span>  <span class="kt">string</span> <span class="s">`json:&#34;sex&#34; form:&#34;sex&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/query&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">ginContext</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userInfo</span> <span class="nx">UserInfo</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBindQuery</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä½ é”™&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman7.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//ShouldBindUri
</span></span></span><span class="line"><span class="cl"><span class="c1">//tagå¯¹åº”ä¸ºuri
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34; form:&#34;name&#34; uri:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34; form:&#34;age&#34; uri:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sex</span>  <span class="kt">string</span> <span class="s">`json:&#34;sex&#34; form:&#34;sex&#34; uri:&#34;sex&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/uri/:name/:age/:sex&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userInfo</span> <span class="nx">UserInfo</span>
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBindUri</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä½ é”™äº†&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman8.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//ShouldBind
</span></span></span><span class="line"><span class="cl"><span class="c1">//ä¼šæ ¹æ®è¯·æ±‚å¤´ä¸­çš„content-typeå»è‡ªåŠ¨ç»‘å®š
</span></span></span><span class="line"><span class="cl"><span class="c1">//form-dataçš„å‚æ•°ä¹Ÿç”¨è¿™ä¸ªï¼Œtagç”¨form
</span></span></span><span class="line"><span class="cl"><span class="c1">//é»˜è®¤çš„tagå°±æ˜¯form,å¯ä»¥ç»‘å®šjsonï¼Œqueryï¼Œparamï¼Œyamlï¼Œxml
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`form:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`form:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sex</span>  <span class="kt">string</span> <span class="s">`form:&#34;sex&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/form&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">userInfo</span> <span class="nx">UserInfo</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBind</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä½ é”™äº†&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman9.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<h5 id="å‚æ•°éªŒè¯">å‚æ•°éªŒè¯</h5>
<ol>
<li>å¸¸ç”¨éªŒè¯å™¨</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ä¸èƒ½ä¸ºç©ºï¼Œå¹¶ä¸”ä¸èƒ½æ²¡æœ‰è¿™ä¸ªå­—æ®µ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">required</span><span class="p">:</span> <span class="nx">å¿…å¡«å­—æ®µ</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;required&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// é’ˆå¯¹å­—ç¬¦ä¸²çš„é•¿åº¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">min</span> <span class="nx">æœ€å°é•¿åº¦</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;min=5&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">max</span> <span class="nx">æœ€å¤§é•¿åº¦</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;max=18&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span> <span class="nx">é•¿åº¦</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;en=6&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// é’ˆå¯¹æ•°å­—çš„å¤§å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">eg</span> <span class="nx">ç­‰äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;eg=3&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">ne</span> <span class="nx">ä¸ç­‰äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;ne=12&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">gt</span> <span class="nx">å¤§äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;gt=18&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">gte</span> <span class="nx">å¤§äºç­‰äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;gte=18&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">lt</span> <span class="nx">å°äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span><span class="nx">binding</span><span class="p">:</span><span class="s">&#34;lt=18&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">lte</span> <span class="nx">å°äºç­‰äº</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;lte=18&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// é’ˆå¯¹åŒçº§å­—æ®µçš„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">eqfield</span> <span class="nx">ç­‰äºå…¶ä»–å­—æ®µçš„å€¼</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">PassWord</span> <span class="kt">string</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;eqfield=Password&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">nefield</span> <span class="nx">ä¸ç­‰äºå…¶ä»–å­—æ®µçš„å€¼</span>
</span></span><span class="line"><span class="cl"><span class="nx">å¿½ç•¥å­—æ®µ</span><span class="err">ï¼Œ</span><span class="nx">å¦‚</span><span class="p">:</span> <span class="nx">binding</span><span class="p">:</span><span class="s">&#34;_&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">SignUserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// binding:&#34;required&#34;ä¸èƒ½ä¸ºç©ºæˆ–ä¸ä¼ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34; binding:&#34;required&#34;`</span> <span class="c1">//ç”¨æˆ·å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Mail</span> <span class="kt">string</span> <span class="s">`json:&#34;mail&#34;`</span>                    <span class="c1">//é‚®ç®±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// binding:&#34;min=6,max=12&#34;æœ€å°é•¿åº¦6ï¼Œæœ€å¤§é•¿åº¦12
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Password</span>   <span class="kt">string</span> <span class="s">`json:&#34;password&#34; binding:&#34;min=6,max=12&#34;`</span>        <span class="c1">//å¯†ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">RePassword</span> <span class="kt">string</span> <span class="s">`json:&#34;re_password&#34; binding:&#34;eqfield=Password&#34;`</span> <span class="c1">//ç¡®è®¤å¯†ç 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>ginå†…ç½®éªŒè¯å™¨</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// æšä¸¾ åªèƒ½æ˜¯red æˆ–green
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">oneof</span><span class="p">=</span><span class="nx">red</span> <span class="nx">green</span>
</span></span><span class="line"><span class="cl"><span class="c1">// å­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">contains</span><span class="p">=</span><span class="nx">fengfeng</span> <span class="c1">// åŒ…å«fengfengçš„å­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">excludes</span> <span class="c1">// ä¸åŒ…å«
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">startswith</span> <span class="c1">// å­—ç¬¦ä¸²å‰ç¼€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">endswith</span> <span class="c1">// å­—ç¬¦ä¸²åç¼€
</span></span></span><span class="line"><span class="cl"><span class="c1">// æ•°ç»„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">dive</span> <span class="c1">// diveåé¢çš„éªŒè¯å°±æ˜¯é’ˆå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// ç½‘ç»œéªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ip</span>
</span></span><span class="line"><span class="cl"><span class="nx">ipv4</span>
</span></span><span class="line"><span class="cl"><span class="nx">ipv6</span>
</span></span><span class="line"><span class="cl"><span class="nx">uri</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span>
</span></span><span class="line"><span class="cl"><span class="c1">// uri åœ¨äºI(Identifier)æ˜¯ç»Ÿä¸€èµ„æºæ ‡ç¤ºç¬¦ï¼Œå¯ä»¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªèµ„æº
</span></span></span><span class="line"><span class="cl"><span class="c1">// url åœ¨äºLocaterï¼Œæ˜¯ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæä¾›æ‰¾åˆ°è¯¥èµ„æºçš„ç¡®åˆ‡è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1">// æ—¥æœŸéªŒè¯ 1æœˆ2å·ä¸‹åˆ3ç‚¹4åˆ†5ç§’åœ¨2006å¹´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">datetime</span><span class="p">=</span><span class="mi">2006</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">SignUserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Sex</span>        <span class="kt">string</span>   <span class="s">`json:&#34;sex&#34; binding:&#34;oneof=ç”· å¥³&#34;`</span>                             <span class="c1">//æ€§åˆ«
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">HobbyList</span>  <span class="p">[]</span><span class="kt">string</span> <span class="s">`json:&#34;hobby_list&#34; binding:&#34;required,dive,startswith=ilove&#34;`</span> <span class="c1">//çˆ±å¥½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">IP</span>         <span class="kt">string</span>   <span class="s">`json:&#34;ip&#34; binding:&#34;ip&#34;`</span>                                     <span class="c1">//ipåœ°å€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//å¿…é¡»ç”¨datetime=2006-01-02 15:04:05è¿™ä¸ªæ—¶é—´ï¼Œä¸èƒ½æ¢æˆåˆ«çš„æ—¶é—´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//1æœˆ2å·ä¸‹åˆ3ç‚¹4åˆ†5ç§’2006å¹´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Date</span> <span class="kt">string</span> <span class="s">`json:&#34;date&#34; binding:&#34;datetime=2006-01-02 15:04:05&#34;`</span> <span class="c1">//æ—¥æœŸ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>è‡ªå®šä¹‰éªŒè¯å™¨é”™è¯¯ä¿¡æ¯</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34; binding:&#34;required&#34; msg:&#34;ç”¨æˆ·åæ ¡éªŒå¤±è´¥&#34;`</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34; binding:&#34;required,gt=10&#34; msg:&#34;å¹´é¾„æ ¡éªŒå¤±è´¥&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBindJSON</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//c.JSON(200, gin.H{&#34;msg&#34;: err.Error()})
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="nf">GetValidMsg</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">user</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="nx">user</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1">//GetValidMsgå‡½æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">GetValidMsg</span><span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">,</span> <span class="nx">obj</span> <span class="nx">any</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// å°†erræ¥å£æ–­è¨€ä¸ºå…·ä½“ç±»å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//ä½¿ç”¨çš„æ—¶å€™ä¼ æ–‡ä»¶æŒ‡é’ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">getObj</span> <span class="o">:=</span> <span class="nx">reflect</span><span class="p">.</span><span class="nf">TypeOf</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">errs</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">err</span><span class="p">.(</span><span class="nx">validator</span><span class="p">.</span><span class="nx">ValidationErrors</span><span class="p">);</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//æ–­è¨€æˆåŠŸ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//å¾ªç¯æ¯ä¸€ä¸ªé”™è¯¯ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">e</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">errs</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">exist</span> <span class="o">:=</span> <span class="nx">getObj</span><span class="p">.</span><span class="nf">Elem</span><span class="p">().</span><span class="nf">FieldByName</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nf">Field</span><span class="p">());</span> <span class="nx">exist</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">msg</span> <span class="o">:=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;msg&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">return</span> <span class="nx">msg</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>è‡ªå®šä¹‰éªŒè¯å™¨</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//è‡ªå®šä¹‰éªŒè¯å™¨ sign
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">Validator</span><span class="p">.</span><span class="nf">Engine</span><span class="p">().(</span><span class="o">*</span><span class="nx">validator</span><span class="p">.</span><span class="nx">Validate</span><span class="p">);</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">v</span><span class="p">.</span><span class="nf">RegisterValidation</span><span class="p">(</span><span class="s">&#34;sign&#34;</span><span class="p">,</span> <span class="nx">signValid</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kd">var</span> <span class="nx">user</span> <span class="nx">User</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">ShouldBind</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;data&#34;</span><span class="p">:</span> <span class="nx">user</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1">//signValidå‡½æ•°å’Œuserç»“æ„ä½“
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">User</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è‡ªå®šä¹‰éªŒè¯å™¨ sign
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`form:&#34;name&#34; binding:&#34;required,sign&#34; msg:&#34;è¯·è¾“å…¥åå­—&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`form:&#34;age&#34; binding:&#34;required,gt=10&#34; msg:&#34;è¯·è¾“å…¥å¹´é¾„&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">signValid</span><span class="p">(</span><span class="nx">fl</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">FieldLevel</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¸å…è®¸nameä¸ºnameListä¸­çš„å€¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">var</span> <span class="nx">nameList</span> <span class="p">[]</span><span class="kt">string</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="s">&#34;lihan3238&#34;</span><span class="p">,</span> <span class="s">&#34;Lihan&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">nameStr</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">nameList</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">name</span> <span class="o">:=</span> <span class="nx">fl</span><span class="p">.</span><span class="nf">Field</span><span class="p">().</span><span class="nf">Interface</span><span class="p">().(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="nx">nameStr</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ä¸Šä¼ ä¸‹è½½æ–‡ä»¶">ä¸Šä¼ ä¸‹è½½æ–‡ä»¶</h4>
<h5 id="ä¸Šä¼ æ–‡ä»¶">ä¸Šä¼ æ–‡ä»¶</h5>
<ol>
<li>å•æ–‡ä»¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="c1">// ä¸º multipart forms è®¾ç½®è¾ƒä½çš„å†…å­˜é™åˆ¶ (é»˜è®¤æ˜¯ 32 MiB)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// å•ä½æ˜¯å­—èŠ‚ï¼Œ&lt;&lt; æ˜¯å·¦ç§»é¢„ç®—ç¬¦å·ï¼Œç­‰ä»·äº 8 * 2^20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ginå¯¹æ–‡ä»¶ä¸Šä¼ å¤§å°çš„é»˜è®¤å€¼æ˜¯32MB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nx">MaxMultipartMemory</span> <span class="p">=</span> <span class="mi">8</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span> <span class="c1">// 8 MiB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/upload&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">FormFile</span><span class="p">(</span><span class="s">&#34;file&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">Size</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">)</span> <span class="c1">//å•ä½ä¸ºKB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//ä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">c</span><span class="p">.</span><span class="nf">SaveUploadedFile</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="s">&#34;uploads/&#34;</span><span class="o">+</span><span class="nx">file</span><span class="p">.</span><span class="nx">Filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä¸Šä¼ æˆåŠŸ&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>æœåŠ¡å™¨ä¿å­˜æ–‡ä»¶çš„å‡ ç§æ–¹å¼</li>
</ol>
<ul>
<li>SaveUploadedFile ä¿å­˜æ–‡ä»¶åˆ°æœ¬åœ°</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">SaveUploadedFile</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="s">&#34;uploads/&#34;</span><span class="o">+</span><span class="nx">file</span><span class="p">.</span><span class="nx">Filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ–‡ä»¶å¯¹è±¡,æ–‡ä»¶è·¯å¾„:æ³¨æ„è¦ä»é¡¹ç›®æ ¹è·¯å¾„å¼€å§‹å†™
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>è¯»å–æ–‡ä»¶å†…å®¹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/upload&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">FormFile</span><span class="p">(</span><span class="s">&#34;file&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">readerFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">file</span><span class="p">.</span><span class="nf">Open</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">data</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">(</span><span class="nx">readerFile</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä¸Šä¼ æˆåŠŸ&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman10.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<ul>
<li>Create+Copy</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/upload&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">FormFile</span><span class="p">(</span><span class="s">&#34;file&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">readerFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">file</span><span class="p">.</span><span class="nf">Open</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">writerFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">&#34;uploads/&#34;</span> <span class="o">+</span> <span class="nx">file</span><span class="p">.</span><span class="nx">Filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">defer</span> <span class="nx">readerFile</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">defer</span> <span class="nx">writerFile</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">n</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">Copy</span><span class="p">(</span><span class="nx">writerFile</span><span class="p">,</span> <span class="nx">readerFile</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;ä¸Šä¼ æˆåŠŸï¼&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>	
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¸Šä¼ å¤šä¸ªæ–‡ä»¶</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/uploads&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">form</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">MultipartForm</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">files</span> <span class="o">:=</span> <span class="nx">form</span><span class="p">.</span><span class="nx">File</span><span class="p">[</span><span class="s">&#34;file&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">file</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">files</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">SaveUploadedFile</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="s">&#34;uploads/&#34;</span><span class="o">+</span><span class="nx">file</span><span class="p">.</span><span class="nx">Filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;ä¸Šä¼ æˆåŠŸ%dä¸ªæ–‡ä»¶!&#34;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">files</span><span class="p">))})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="ä¸‹è½½æ–‡ä»¶">ä¸‹è½½æ–‡ä»¶</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/download&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//c.File(&#34;uploads/logo.png&#34;)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//æœ‰äº›å“åº”ï¼Œæ¯”å¦‚å›¾ç‰‡ï¼Œæµè§ˆå™¨å°±ä¼šæ˜¾ç¤ºè¿™å›¾ç‰‡ï¼Œè€Œä¸æ˜¯ä¸‹è½½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿æµè§ˆå™¨èµ·ä¸‹è½½è¡Œä¸º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;Content-Type&#34;</span><span class="p">,</span> <span class="s">&#34;applicationoctet-stream&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¸€å®šè¦æŒ‡å®šä¸‹è½½æ–‡ä»¶åï¼ˆå¯ä»¥ä¸æºæ–‡ä»¶ååŒï¼‰ï¼Œä¸ç„¶é»˜è®¤downloadæ— åç¼€å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;Content-Disposition&#34;</span><span class="p">,</span><span class="s">&#34;attachment; filename=1.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è®¾ç½®æ–‡ä»¶ä¼ è¾“æ–¹å¼ä¸ºäºŒè¿›åˆ¶ï¼ˆä¹±ç é—®é¢˜å…³ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;Content-Transfer-Encoding&#34;</span><span class="p">,</span><span class="s">&#34;binary&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æŒ‡å®šæºæ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nf">File</span><span class="p">(</span><span class="s">&#34;uploads/logo.png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ˜¯å‰åç«¯æ¨¡å¼ä¸‹ï¼Œåç«¯å°±åªéœ€è¦å“åº”ä¸€ä¸ªæ–‡ä»¶æ•°æ®
æ–‡ä»¶åå’Œå…¶ä»–ä¿¡æ¯å°±å†™åœ¨è¯·æ±‚å¤´ä¸­</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;fileName&#34;</span><span class="p">,</span><span class="s">&#34;xxx .png&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">c</span><span class="p">.</span><span class="nf">Header</span><span class="p">(</span><span class="s">&#34;msg&#34;</span><span class="err">ï¼Œ</span><span class="s">&#34;æ–‡ä»¶ä¸‹è½½æˆåŠŸ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">c</span><span class="p">.</span><span class="nf">File</span><span class="p">(</span><span class="s">&#34;uploads/12 .png&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/js1.png"
	
	
	
	loading="lazy"
	
		alt="js"
	
	
></p>
<h4 id="ä¸­é—´ä»¶å’Œè·¯ç”±">ä¸­é—´ä»¶å’Œè·¯ç”±</h4>
<h5 id="ä¸­é—´ä»¶">ä¸­é—´ä»¶</h5>
<ol>
<li>å•ä¸ªè·¯ç”±çš„ä¸­é—´ä»¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;index&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span><span class="c1">//æ‰§è¡Œé¡ºåºï¼šm1-&gt;index
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">//m1ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">func</span> <span class="nf">m1</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;m1&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Abort</span><span class="p">()</span> <span class="c1">//é˜»æ­¢åç»­çš„å¤„ç†å‡½æ•°æ‰§è¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="nx">m1</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;index&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index...in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//nextå‰æ˜¯è¯·æ±‚
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//Abortåä¸ä¼šæ‰§è¡Œä¹‹åçš„è¯·æ±‚å’Œå“åº”ï¼Œä½†æ˜¯ä¼šæ‰§è¡Œå·²æ‰§è¡Œè¿‡è¯·æ±‚çš„å“åº”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//nextåæ˜¯å“åº”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index...out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//m1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">func</span> <span class="nf">m1</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;m1&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1...in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m1...out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#è¿”å›</span>
</span></span><span class="line"><span class="cl">m1...in
</span></span><span class="line"><span class="cl">index...in
</span></span><span class="line"><span class="cl">index...out
</span></span><span class="line"><span class="cl">m1...out
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>å…¨å±€æ³¨å†Œä¸­é—´ä»¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nx">m10</span><span class="p">,</span> <span class="nx">m11</span><span class="p">)</span> <span class="c1">// å…¨å±€æ³¨å†Œä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/1&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index1......in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;index1&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index1......out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/2&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index2......in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;index2&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index2......out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1">//ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">m10</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m10......in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m10......out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">m11</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m11......in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m11......out&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">m10......in
</span></span><span class="line"><span class="cl">m11......in
</span></span><span class="line"><span class="cl">index2......in
</span></span><span class="line"><span class="cl">index2......out
</span></span><span class="line"><span class="cl">m11......out
</span></span><span class="line"><span class="cl">m10......out
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>ä¸­é—´ä»¶ä¼ é€’æ•°æ®</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//main.go
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">name</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">_user</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">&#34;user&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">user</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">_user</span><span class="p">.(</span><span class="nx">Person</span><span class="p">)</span> <span class="c1">// ä½¿ç”¨ç±»å‹æ–­è¨€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">if</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;ç±»å‹æ–­è¨€å¤±è´¥&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">Age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">H</span><span class="p">{</span><span class="s">&#34;msg&#34;</span><span class="p">:</span> <span class="s">&#34;index1&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kd">func</span> <span class="nf">m10</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;m10......in&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span> <span class="s">&#34;lihan&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;user&#34;</span><span class="p">,</span> <span class="nx">Person</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;lihan&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Age</span><span class="p">:</span>  <span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="è·¯ç”±åˆ†ç»„">è·¯ç”±åˆ†ç»„</h5>
<ol>
<li>è·¯ç”±åˆ†ç»„</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ArticleInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Title</span> <span class="kt">string</span> <span class="s">`json:&#34;title&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Id</span>    <span class="kt">int</span>    <span class="s">`json:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Response</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Code</span> <span class="kt">int</span>    <span class="s">`json:&#34;code&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Data</span> <span class="nx">any</span>    <span class="s">`json:&#34;data&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Msg</span>  <span class="kt">string</span> <span class="s">`json:&#34;msg&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">UserListView</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userList</span> <span class="p">[]</span><span class="nx">UserInfo</span> <span class="p">=</span> <span class="p">[]</span><span class="nx">UserInfo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;lihan&#34;</span><span class="p">,</span> <span class="mi">18</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;æå¯’&#34;</span><span class="p">,</span> <span class="mi">22</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;op&#34;</span><span class="p">,</span> <span class="mi">28</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userList</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ArticleListView</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">articleList</span> <span class="p">[]</span><span class="nx">ArticleInfo</span> <span class="p">=</span> <span class="p">[]</span><span class="nx">ArticleInfo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;gin&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;go&#34;</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="s">&#34;vue&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Response</span><span class="p">{</span><span class="mi">200</span><span class="p">,</span> <span class="nx">articleList</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">UserRouterInit</span><span class="p">(</span><span class="nx">api</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">RouterGroup</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">api1</span> <span class="o">:=</span> <span class="nx">api</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;api_1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">api1</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/users1&#34;</span><span class="p">,</span> <span class="nx">UserListView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">api1</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/users2&#34;</span><span class="p">,</span> <span class="nx">UserListView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">ArticleRouterInit</span><span class="p">(</span><span class="nx">api</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">RouterGroup</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">api2</span> <span class="o">:=</span> <span class="nx">api</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;api_2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">api2</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/users3&#34;</span><span class="p">,</span> <span class="nx">ArticleListView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">api2</span><span class="p">.</span><span class="nf">POST</span><span class="p">(</span><span class="s">&#34;/users4&#34;</span><span class="p">,</span> <span class="nx">ArticleListView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">api</span> <span class="o">:=</span> <span class="nx">router</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;api&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nf">UserRouterInit</span><span class="p">(</span><span class="nx">api</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">ArticleRouterInit</span><span class="p">(</span><span class="nx">api</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/users&#34;</span><span class="p">,</span> <span class="nx">UserListView</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>è·¯ç”±åˆ†ç»„ä¸­é—´ä»¶</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Res</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Code</span> <span class="kt">int</span>    <span class="s">`json:&#34;code&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Data</span> <span class="nx">any</span>    <span class="s">`json:&#34;data&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Msg</span>  <span class="kt">string</span> <span class="s">`json:&#34;msg&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_UserListView</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">type</span> <span class="nx">UserInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Age</span>  <span class="kt">int</span>    <span class="s">`json:&#34;age&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">userList</span> <span class="p">[]</span><span class="nx">UserInfo</span> <span class="p">=</span> <span class="p">[]</span><span class="nx">UserInfo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;å¼ ä¸‰&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">18</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;æå››&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">19</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;ç‹äº”&#34;</span><span class="p">,</span> <span class="nx">Age</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Res</span><span class="p">{</span><span class="mi">200</span><span class="p">,</span> <span class="nx">userList</span><span class="p">,</span> <span class="s">&#34;success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Middleware</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">token</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;token&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">token</span> <span class="o">==</span> <span class="s">&#34;3238&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Res</span><span class="p">{</span><span class="mi">401</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="s">&#34;token error&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Abort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="c1">//ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">_UserRouterInit</span><span class="p">(</span><span class="nx">router</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">RouterGroup</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">userManager</span> <span class="o">:=</span> <span class="nx">router</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;user_manager&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">userManager</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nx">Middleware</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">userManager</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/users&#34;</span><span class="p">,</span> <span class="nx">_UserListView</span><span class="p">)</span> <span class="c1">// api/user_manager/users
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">api</span> <span class="o">:=</span> <span class="nx">router</span><span class="p">.</span><span class="nf">Group</span><span class="p">(</span><span class="s">&#34;api&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">api</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/login&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Res</span><span class="p">{</span><span class="mi">200</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="s">&#34;login success&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span> <span class="c1">//ä¸åœ¨ä¸­é—´ä»¶ä¸­çš„è·¯ç”±ï¼Œä¸éœ€è¦éªŒè¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nf">_UserRouterInit</span><span class="p">(</span><span class="nx">api</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/postman11.png"
	
	
	
	loading="lazy"
	
		alt="postman"
	
	
></p>
<p>é—­åŒ…ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Middleware</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">token</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;token&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">token</span> <span class="o">==</span> <span class="s">&#34;3238&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Res</span><span class="p">{</span><span class="mi">401</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="s">&#34;token error&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">Abort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="c1">//ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1">//_UserRouterInit
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">userManager</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nx">Middleware</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">å¯å†™ä¸º</span><span class="err">ï¼š</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Middleware</span><span class="p">(</span><span class="nx">msg</span> <span class="kt">string</span><span class="p">)</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">HandlerFunc</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">token</span> <span class="o">:=</span> <span class="nx">c</span><span class="p">.</span><span class="nf">GetHeader</span><span class="p">(</span><span class="s">&#34;token&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">token</span> <span class="o">==</span> <span class="s">&#34;3238&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">Next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">JSON</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="nx">Res</span><span class="p">{</span><span class="mi">401</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">msg</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">Abort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="c1">//ä¸­é—´ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1">//_UserRouterInit
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">userManager</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nf">Middleware</span><span class="p">(</span><span class="s">&#34;token error&#34;</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ä¼˜ç‚¹ï¼šå¯ä»¥ä¼ å‚ï¼Œè‡ªå®šä¹‰ï¼Œé—­åŒ…</li>
</ul>
<p>gin.Default()ä¸­é—´ä»¶
ç­‰äºgin.New()åŠ ä¸ŠLogger(), Recovery()è‹¥å¹²ä¸­é—´ä»¶</p>
<h4 id="gin-logæ—¥å¿—">gin logæ—¥å¿—</h4>
<ul>
<li>è®°å½•bug</li>
<li>è®°å½•ç”¨æˆ·æ“ä½œï¼ŒçŒœæµ‹ç”¨æˆ·è¡Œä¸º</li>
</ul>
<h5 id="ginå†…ç½®æ—¥å¿—">ginå†…ç½®æ—¥å¿—</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">&#34;gin.log&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nx">DefaultWriter</span> <span class="p">=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">MultiWriter</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)</span> <span class="c1">//åŒæ—¶å†™å…¥æ–‡ä»¶å’Œæ§åˆ¶å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;hello world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//åœ¨é¡¹ç›®ç›®å½•ä¸‹ç”Ÿæˆgin.logæ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="nx">GIN</span><span class="o">-</span><span class="nx">debug</span><span class="p">]</span> <span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="nx">Creating</span> <span class="nx">an</span> <span class="nx">Engine</span> <span class="nx">instance</span> <span class="nx">with</span> <span class="nx">the</span> <span class="nx">Logger</span> <span class="nx">and</span> <span class="nx">Recovery</span> <span class="nx">middleware</span> <span class="nx">already</span> <span class="nx">attached</span><span class="p">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">GIN</span><span class="o">-</span><span class="nx">debug</span><span class="p">]</span> <span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="nx">Running</span> <span class="nx">in</span> <span class="s">&#34;debug&#34;</span> <span class="nx">mode</span><span class="p">.</span> <span class="nx">Switch</span> <span class="nx">to</span> <span class="s">&#34;release&#34;</span> <span class="nx">mode</span> <span class="nx">in</span> <span class="nx">production</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"> <span class="o">-</span> <span class="nx">using</span> <span class="nx">env</span><span class="p">:</span>	<span class="nx">export</span> <span class="nx">GIN_MODE</span><span class="p">=</span><span class="nx">release</span>
</span></span><span class="line"><span class="cl"> <span class="o">-</span> <span class="nx">using</span> <span class="nx">code</span><span class="p">:</span>	<span class="nx">gin</span><span class="p">.</span><span class="nf">SetMode</span><span class="p">(</span><span class="nx">gin</span><span class="p">.</span><span class="nx">ReleaseMode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">GIN</span><span class="o">-</span><span class="nx">debug</span><span class="p">]</span> <span class="nx">GET</span>    <span class="o">/</span><span class="nx">index</span>                    <span class="o">--</span><span class="p">&gt;</span> <span class="nx">main</span><span class="p">.</span><span class="nx">main</span><span class="p">.</span><span class="nf">func1</span> <span class="p">(</span><span class="mi">3</span> <span class="nx">handlers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">GIN</span><span class="o">-</span><span class="nx">debug</span><span class="p">]</span> <span class="p">[</span><span class="nx">WARNING</span><span class="p">]</span> <span class="nx">You</span> <span class="nx">trusted</span> <span class="nx">all</span> <span class="nx">proxies</span><span class="p">,</span> <span class="nx">this</span> <span class="nx">is</span> <span class="nx">NOT</span> <span class="nx">safe</span><span class="p">.</span> <span class="nx">We</span> <span class="nx">recommend</span> <span class="nx">you</span> <span class="nx">to</span> <span class="nx">set</span> <span class="nx">a</span> <span class="nx">value</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="nx">Please</span> <span class="nx">check</span> <span class="nx">https</span><span class="p">:</span><span class="c1">//pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">[</span><span class="nx">GIN</span><span class="o">-</span><span class="nx">debug</span><span class="p">]</span> <span class="nx">Listening</span> <span class="nx">and</span> <span class="nx">serving</span> <span class="nx">HTTP</span> <span class="nx">on</span> <span class="p">:</span><span class="mi">8080</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">GIN</span><span class="p">]</span> <span class="mi">2023</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mi">22</span> <span class="o">-</span> <span class="mi">13</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">20</span> <span class="p">|</span> <span class="mi">200</span> <span class="p">|</span>      <span class="mf">16.375</span><span class="nx">Âµs</span> <span class="p">|</span>    <span class="mf">192.168.56.1</span> <span class="p">|</span> <span class="nx">GET</span>      <span class="s">&#34;/index&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">GIN</span><span class="p">]</span> <span class="mi">2023</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mi">22</span> <span class="o">-</span> <span class="mi">13</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">20</span> <span class="p">|</span> <span class="mi">404</span> <span class="p">|</span>         <span class="mi">506</span><span class="nx">ns</span> <span class="p">|</span>    <span class="mf">192.168.56.1</span> <span class="p">|</span> <span class="nx">GET</span>      <span class="s">&#34;/favicon.ico&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="å®šä¹‰æ ¼å¼">å®šä¹‰æ ¼å¼</h5>
<ol>
<li>å®šä¹‰è·¯ç”±æ ¼å¼</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nx">DebugPrintRouteFunc</span> <span class="p">=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">httpMethod</span><span class="p">,</span> <span class="nx">absolutePath</span><span class="p">,</span> <span class="nx">handlerName</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">numHandlers</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;[lihan] %s %s %s %d\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">httpMethod</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">absolutePath</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">handlerName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">numHandlers</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">&#34;gin.log&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nx">DefaultWriter</span> <span class="p">=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">MultiWriter</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)</span> <span class="c1">//åŒæ—¶å†™å…¥æ–‡ä»¶å’Œæ§åˆ¶å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;hello world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/log_1.png"
	width="816"
	height="219"
	srcset="/lihan3238.github.io/p/ginwebstudy/log_1_hu6347b46977d4e08d185d6568a14b7dcb_26853_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/log_1_hu6347b46977d4e08d185d6568a14b7dcb_26853_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="372"
		data-flex-basis="894px"
	
></p>
<ul>
<li>æŸ¥çœ‹è·¯ç”±:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">router</span><span class="p">.</span><span class="nf">Routes</span><span class="p">()</span> <span class="c1">// å®ƒä¼šè¿”å›å·²æ³¨å†Œçš„è·¯ç”±åˆ—è¡¨
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ç¯å¢ƒåˆ‡æ¢(å»æ‰debugæ—¥å¿—)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">gin</span><span class="p">.</span><span class="nf">SetMode</span><span class="p">(</span><span class="nx">gin</span><span class="p">.</span><span class="nx">ReleaseMode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">Default</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>å®šä¹‰æ—¥å¿—æ ¼å¼</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;io&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">myLogFormat</span><span class="p">(</span><span class="nx">param</span> <span class="nx">gin</span><span class="p">.</span><span class="nx">LogFormatterParams</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ä½ çš„è‡ªå®šä¹‰æ ¼å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;[lihan]	%s	|%d|	%s%s%s	%s\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">param</span><span class="p">.</span><span class="nx">TimeStamp</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">&#34;2006-01-02 15:04:05&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">param</span><span class="p">.</span><span class="nx">StatusCode</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//param.Method,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">param</span><span class="p">.</span><span class="nf">MethodColor</span><span class="p">(),</span> <span class="nx">param</span><span class="p">.</span><span class="nx">Method</span><span class="p">,</span> <span class="nx">param</span><span class="p">.</span><span class="nf">ResetColor</span><span class="p">(),</span> <span class="c1">//æ ¹æ®ä¸åŒçš„è¯·æ±‚ç±»å‹è¾“å‡ºä¸åŒé¢œè‰²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">param</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nf">SetMode</span><span class="p">(</span><span class="nx">gin</span><span class="p">.</span><span class="nx">ReleaseMode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nx">DebugPrintRouteFunc</span> <span class="p">=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">httpMethod</span><span class="p">,</span> <span class="nx">absolutePath</span><span class="p">,</span> <span class="nx">handlerName</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">numHandlers</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">			<span class="s">&#34;[lihan] %s %s %s %d\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">httpMethod</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">absolutePath</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">handlerName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">numHandlers</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">&#34;gin.log&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">gin</span><span class="p">.</span><span class="nx">DefaultWriter</span> <span class="p">=</span> <span class="nx">io</span><span class="p">.</span><span class="nf">MultiWriter</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)</span> <span class="c1">//åŒæ—¶å†™å…¥æ–‡ä»¶å’Œæ§åˆ¶å°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span> <span class="o">:=</span> <span class="nx">gin</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//router.Use(gin.LoggerWithFormatter(myLogFormat))
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">router</span><span class="p">.</span><span class="nf">Use</span><span class="p">(</span><span class="nx">gin</span><span class="p">.</span><span class="nf">LoggerWithConfig</span><span class="p">(</span><span class="nx">gin</span><span class="p">.</span><span class="nx">LoggerConfig</span><span class="p">{</span><span class="nx">Formatter</span><span class="p">:</span> <span class="nx">myLogFormat</span><span class="p">}))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">GET</span><span class="p">(</span><span class="s">&#34;/index&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">gin</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">c</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#34;hello world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¿®æ”¹å‰ï¼š
<img src="/lihan3238.github.io/p/ginwebstudy/log_2.png"
	width="841"
	height="30"
	srcset="/lihan3238.github.io/p/ginwebstudy/log_2_hud17281744eb2a07401b7ac1cbc591c6c_3365_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/log_2_hud17281744eb2a07401b7ac1cbc591c6c_3365_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="2803"
		data-flex-basis="6728px"
	
>
ä¿®æ”¹åï¼š
<img src="/lihan3238.github.io/p/ginwebstudy/log_3.png"
	width="598"
	height="59"
	srcset="/lihan3238.github.io/p/ginwebstudy/log_3_hu6b37b6ee009d540ef9a6ce91f30394cd_9217_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/log_3_hu6b37b6ee009d540ef9a6ce91f30394cd_9217_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="1013"
		data-flex-basis="2432px"
	
></p>
<h5 id="ç¬¬ä¸‰æ–¹æ—¥å¿—-logrus">ç¬¬ä¸‰æ–¹æ—¥å¿— logrus</h5>
<ol>
<li>ä¸‹è½½</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">go get github.com/sirupsen/logrus
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>æ—¥å¿—ç­‰çº§</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">SetLevel</span><span class="p">(</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">DebugLevel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;å‡ºé”™äº†&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Warnln</span><span class="p">(</span><span class="s">&#34;è­¦å‘Š&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Infof</span><span class="p">(</span><span class="s">&#34;ä¿¡æ¯&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Debugf</span><span class="p">(</span><span class="s">&#34;debug&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;æ‰“å°&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">logrus</span><span class="p">.</span><span class="nf">GetLevel</span><span class="p">())</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/logrus_1.png"
	width="645"
	height="135"
	srcset="/lihan3238.github.io/p/ginwebstudy/logrus_1_huc9b7526911d71ceb9920d25799242c78_11710_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/logrus_1_huc9b7526911d71ceb9920d25799242c78_11710_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="477"
		data-flex-basis="1146px"
	
></p>
<p>æ›´æ”¹æ—¥å¿—çº§åˆ«</p>
<ul>
<li>æ—¥å¿—åªä¼šæ˜¾ç¤ºå¤§äºç­‰äºè®¾ç½®çš„æ—¥å¿—çº§åˆ«çš„æ—¥å¿—</li>
<li>é»˜è®¤æ—¥å¿—çº§åˆ«ä¸ºinfo</li>
<li>æ—¥å¿—çº§åˆ«ä¸€èˆ¬æ˜¯å’Œç³»ç»ŸæŒ‚é’©ï¼Œå¼€å‘ç¯å¢ƒä¸€èˆ¬æ˜¯debugï¼Œçº¿ä¸Šç¯å¢ƒå¯èƒ½æ˜¯warningã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">logrus</span><span class="p">.</span><span class="nf">SetLevel</span><span class="p">(</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">DebugLevel</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¥å¿—ç­‰çº§</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">PanicLevel</span><span class="c1">// ä¼šæŠ›ä¸€ä¸ªå¼‚å¸¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">FatalLevel</span><span class="c1">// æ‰“å°æ—¥å¿—ä¹‹åå°±ä¼šé€€å‡º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">ErrorLevel</span>
</span></span><span class="line"><span class="cl"><span class="nx">WarnLevel</span>
</span></span><span class="line"><span class="cl"><span class="nx">InfoLevel</span>
</span></span><span class="line"><span class="cl"><span class="nx">DebugLevel</span>
</span></span><span class="line"><span class="cl"><span class="nx">TraceLevel</span><span class="c1">// ä½çº§åˆ«
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>è®¾ç½®ç‰¹å®šå­—æ®µ</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;github.com/sirupsen/logrus&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">log_1</span> <span class="o">:=</span> <span class="nx">logrus</span><span class="p">.</span><span class="nf">WithField</span><span class="p">(</span><span class="s">&#34;app&#34;</span><span class="p">,</span> <span class="s">&#34;4.3logrusè®¾ç½®ç‰¹å®šå­—æ®µ&#34;</span><span class="p">).</span><span class="nf">WithField</span><span class="p">(</span><span class="s">&#34;service&#34;</span><span class="p">,</span> <span class="s">&#34;logrus&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">log_2</span> <span class="o">:=</span> <span class="nx">logrus</span><span class="p">.</span><span class="nf">WithFields</span><span class="p">(</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Fields</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;user_id&#34;</span><span class="p">:</span> <span class="s">&#34;22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;ip&#34;</span><span class="p">:</span>      <span class="s">&#34;192.168.56.105&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="nx">log_3</span> <span class="o">:=</span> <span class="nx">log_1</span><span class="p">.</span><span class="nf">WithFields</span><span class="p">(</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Fields</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;user_id&#34;</span><span class="p">:</span> <span class="s">&#34;22&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;ip&#34;</span><span class="p">:</span>      <span class="s">&#34;192.168.56.105&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">log_1</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;å‡ºé”™äº†&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">log_2</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;å‡ºé”™äº†&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">log_3</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;å‡ºé”™äº†&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è®¾ç½®è¾“å‡ºæ ¼å¼</p>
<ul>
<li>ForceColors: æ˜¯å¦å¼ºåˆ¶ä½¿ç”¨é¢è‰²è¾“å‡ºã€‚</li>
<li>DisableColors: æ˜¯å¦ç¦ç”¨é¢è‰²è¾“å‡ºã€‚</li>
<li>ForceQuote: æ˜¯å¦å¼ºåˆ¶å¼•ç”¨æ‰€æœ‰å€¼ã€‚</li>
<li>DisableQuote: æ˜¯å¦ç¦ç”¨å¼•ç”¨æ‰€æœ‰å€¼ã€‚</li>
<li>DisableTimestamp: æ˜¯å¦ç¦ç”¨æ—¶é—´æˆ³è®°å½•</li>
<li>FullTimestamp:æ˜¯å¦åœ¨è¿æ¥åˆ° TTY æ—¶è¾“å‡ºå®Œæ•´çš„æ—¶é—´æˆ³</li>
<li>TimestampFormat: ç”¨äºè¾“å‡ºå®Œæ•´æ—¶é—´æˆ³çš„æ—¶é—´æˆ³æ ¼å¼ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">	<span class="c1">//è¾“å‡ºè¡Œå·
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//è®¾ç½®è¾“å‡ºæ ¼å¼ä¸ºjsonæ ¼å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">logrus</span><span class="p">.</span><span class="nf">SetFormatter</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">JSONFormatter</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//è®¾ç½®è¾“å‡ºæ—¶é—´æˆ³
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">logrus</span><span class="p">.</span><span class="nf">SetFormatter</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">TextFormatter</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">ForceColors</span><span class="p">:</span>     <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">TimestampFormat</span><span class="p">:</span> <span class="s">&#34;2006-01-02 15:04:05&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">FullTimestamp</span><span class="p">:</span>   <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>æ§åˆ¶å°é¢œè‰²</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// å‰æ™¯è‰²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[30m é»‘è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[31m çº¢è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[32m ç»¿è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[33m é»„è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[34m è“è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[35m ç´«è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[36m é’è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[37m ç°è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// èƒŒæ™¯è‰²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[40m é»‘è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[41m çº¢è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[42m ç»¿è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[43m é»„è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[44m è“è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[45m ç´«è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[46m é’è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;\033[47m ç°è‰² \033[0m&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/logrus_2.png"
	width="673"
	height="345"
	srcset="/lihan3238.github.io/p/ginwebstudy/logrus_2_hu2d007d5c7423197df4310f2a87b21a69_19630_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/logrus_2_hu2d007d5c7423197df4310f2a87b21a69_19630_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="195"
		data-flex-basis="468px"
	
></p>
<ol start="5">
<li>Hook</li>
</ol>
<p>ä¾‹å¦‚å®ç°ä¸€ä¸ªåç§°å†™å…¥æ—¥å¿—éƒ½åŠ ä¸€ä¸ª field
æˆ‘ä»¬éœ€è¦å®ç°ä¸¤ä¸ªæ–¹æ³•ä»¥å®ç° Hook æ¥å£</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">MyHook</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">MyHook</span><span class="p">)</span> <span class="nf">Levels</span><span class="p">()</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">AllLevels</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">MyHook</span><span class="p">)</span> <span class="nf">Fire</span><span class="p">(</span><span class="nx">entry</span> <span class="o">*</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Entry</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">entry</span><span class="p">.</span><span class="nx">Data</span><span class="p">[</span><span class="s">&#34;app&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;lihan&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">AddHook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">MyHook</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Warnln</span><span class="p">(</span><span class="s">&#34;warning&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/lihan3238.github.io/p/ginwebstudy/hook_1.png"
	width="634"
	height="74"
	srcset="/lihan3238.github.io/p/ginwebstudy/hook_1_hub22aa31cf540579bd0c06dae51aab58a_12627_480x0_resize_box_3.png 480w, /lihan3238.github.io/p/ginwebstudy/hook_1_hub22aa31cf540579bd0c06dae51aab58a_12627_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="856"
		data-flex-basis="2056px"
	
></p>
<p>logrus hook æ˜¯ä¸€ä¸ªå€¼å¾—æ·±å…¥å­¦ä¹ çš„è®¾è®¡ï¼Œä½ å¯ä»¥è½»æ˜“é€‚ç”¨ hook æ¥å®ç°å¤šæ–‡ä»¶å†™å…¥ã€‚
æ¯”å¦‚ï¼Œwarn&amp;error çº§åˆ«çš„æ—¥å¿—ç‹¬ç«‹è¾“å‡ºåˆ° error_warn.log æ–‡ä»¶é‡Œï¼Œå…¶ä»–éƒ½æ”¾åœ¨ä¸€èµ·ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/sirupsen/logrus&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">MyHook</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">MyHook</span><span class="p">)</span> <span class="nf">Levels</span><span class="p">()</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span><span class="p">{</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">WarnLevel</span><span class="p">,</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">ErrorLevel</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">MyHook</span><span class="p">)</span> <span class="nf">Fire</span><span class="p">(</span><span class="nx">entry</span> <span class="o">*</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Entry</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//entry.Data[&#34;app&#34;] = &#34;lihan&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//fmt.Println(entry.Level)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="s">&#34;4.æ—¥å¿—log/error_warn.log&#34;</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">,</span> <span class="mo">0666</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">line</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">entry</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span> <span class="o">+</span> <span class="s">&#34;\n&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">AddHook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">MyHook</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Warnln</span><span class="p">(</span><span class="s">&#34;warning&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Debug</span><span class="p">(</span><span class="s">&#34;debug&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Infoln</span><span class="p">(</span><span class="s">&#34;info&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>æ—¥å¿—åˆ†å‰²
æŒ‰ç…§æ—¶é—´åˆ†å‰²</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/sirupsen/logrus&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">FileDateHook</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span>     <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logPath</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fileDate</span> <span class="kt">string</span> <span class="c1">//åˆ¤æ–­æ—¥æœŸåˆ‡æ¢ç›®å½•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">appName</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">FileDateHook</span><span class="p">)</span> <span class="nf">Levels</span><span class="p">()</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span><span class="p">{</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">WarnLevel</span><span class="p">,</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">ErrorLevel</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">FileDateHook</span><span class="p">)</span> <span class="nf">Fire</span><span class="p">(</span><span class="nx">entry</span> <span class="o">*</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Entry</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">timer</span> <span class="o">:=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">Time</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">&#34;2006-01-02_15-04&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">line</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">entry</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">hook</span><span class="p">.</span><span class="nx">fileDate</span> <span class="o">==</span> <span class="nx">timer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hook</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æœ‰æ–°æ—¶é—´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">hook</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">os</span><span class="p">.</span><span class="nf">MkdirAll</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s&#34;</span><span class="p">,</span> <span class="nx">hook</span><span class="p">.</span><span class="nx">logPath</span><span class="p">,</span> <span class="nx">timer</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">ModePerm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">filename</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">hook</span><span class="p">.</span><span class="nx">logPath</span><span class="p">,</span> <span class="nx">timer</span><span class="p">,</span> <span class="nx">hook</span><span class="p">.</span><span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hook</span><span class="p">.</span><span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hook</span><span class="p">.</span><span class="nx">fileDate</span> <span class="p">=</span> <span class="nx">timer</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hook</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">InitFile</span><span class="p">(</span><span class="nx">logPath</span><span class="p">,</span> <span class="nx">appName</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fileDate</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Format</span><span class="p">(</span><span class="s">&#34;2006-01-02_15-04&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åˆ›å»ºç›®å½•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">MkdirAll</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">fileDate</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">ModePerm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">filename</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">fileDate</span><span class="p">,</span> <span class="nx">appName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">filehook</span> <span class="o">:=</span> <span class="nx">FileDateHook</span><span class="p">{</span><span class="nx">file</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">fileDate</span><span class="p">,</span> <span class="nx">appName</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">AddHook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">filehook</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">InitFile</span><span class="p">(</span><span class="s">&#34;4.æ—¥å¿—log/logs_1&#34;</span><span class="p">,</span> <span class="s">&#34;lihan_log&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">GetLevel</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Warnln</span><span class="p">(</span><span class="s">&#34;warning&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Infoln</span><span class="p">(</span><span class="s">&#34;info&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æŒ‰ç…§ç­‰çº§åˆ†å‰²
err,warn,info,all.log</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/sirupsen/logrus&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="nx">alllog</span>  <span class="p">=</span> <span class="s">&#34;all&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">errlog</span>  <span class="p">=</span> <span class="s">&#34;err&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">warnlog</span> <span class="p">=</span> <span class="s">&#34;warn&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">infolog</span> <span class="p">=</span> <span class="s">&#34;info&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">FileLevelHook</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">file</span>     <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>
</span></span><span class="line"><span class="cl">	<span class="nx">errFile</span>  <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>
</span></span><span class="line"><span class="cl">	<span class="nx">warnFile</span> <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>
</span></span><span class="line"><span class="cl">	<span class="nx">infoFile</span> <span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logPath</span>  <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">FileLevelHook</span><span class="p">)</span> <span class="nf">Levels</span><span class="p">()</span> <span class="p">[]</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Level</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">AllLevels</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">hook</span> <span class="nx">FileLevelHook</span><span class="p">)</span> <span class="nf">Fire</span><span class="p">(</span><span class="nx">entry</span> <span class="o">*</span><span class="nx">logrus</span><span class="p">.</span><span class="nx">Entry</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">line</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">entry</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">Level</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">ErrorLevel</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hook</span><span class="p">.</span><span class="nx">errFile</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">WarnLevel</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hook</span><span class="p">.</span><span class="nx">warnFile</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">logrus</span><span class="p">.</span><span class="nx">InfoLevel</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hook</span><span class="p">.</span><span class="nx">infoFile</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">hook</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nf">Write</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">line</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">InitLevel</span><span class="p">(</span><span class="nx">logPath</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">MkdirAll</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">ModePerm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">allFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">alllog</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">errFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">errlog</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">warnFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">warnlog</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">infoFile</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">OpenFile</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s.log&#34;</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">,</span> <span class="nx">infolog</span><span class="p">),</span> <span class="nx">os</span><span class="p">.</span><span class="nx">O_WRONLY</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_APPEND</span><span class="p">|</span><span class="nx">os</span><span class="p">.</span><span class="nx">O_CREATE</span><span class="p">,</span> <span class="mo">0600</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">filehook</span> <span class="o">:=</span> <span class="nx">FileLevelHook</span><span class="p">{</span><span class="nx">allFile</span><span class="p">,</span> <span class="nx">errFile</span><span class="p">,</span> <span class="nx">warnFile</span><span class="p">,</span> <span class="nx">infoFile</span><span class="p">,</span> <span class="nx">logPath</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">AddHook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">filehook</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">InitLevel</span><span class="p">(</span><span class="s">&#34;4.æ—¥å¿—log/log_level&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Warnln</span><span class="p">(</span><span class="s">&#34;warning&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Infoln</span><span class="p">(</span><span class="s">&#34;info&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logrus</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;print&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>giné›†æˆlogrus</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">çœ‹ä¸ä¸‹å»äº†å‘œå“‡å“‡å“‡</span><span class="err">ï¼ï¼ï¼</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="lihan3238.github.io/tags/gin/">gin</a>
        
            <a href="lihan3238.github.io/tags/go/">go</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="lihan3238.github.io/p/cloudserveronlinewebsite/">
        
        
            <div class="article-image">
                <img src="/lihan3238.github.io/p/cloudserveronlinewebsite/cloudServer.16133de5ca57973d8d277fa7a7e93dd3_hua85d743ff9f3f207e944ce0f34e37f93_6300_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post äº‘æœåŠ¡å™¨ä¸Šçº¿ç½‘ç«™"
                        data-key="cloudServerOnlineWebsite" 
                        data-hash="md5-FhM95cpXlz2NJ3&#43;np&#43;k90w==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">äº‘æœåŠ¡å™¨ä¸Šçº¿ç½‘ç«™</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="lihan3238.github.io/p/golangstudytest/">
        
        
            <div class="article-image">
                <img src="/lihan3238.github.io/p/golangstudytest/_hu8f5dabb0437f7f9a265abf52ff4a0c38_356076_184d2210443f9cb5d95b0ee8ae00f879.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post golangåŸºç¡€å­¦ä¹ "
                        data-key="golangStudytest" 
                        data-hash="md5-R5nONk6iFffu3EO0wooFkQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">golangåŸºç¡€å­¦ä¹ </h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="lihan3238.github.io/p/hugowebtest/">
        
        
            <div class="article-image">
                <img src="/lihan3238.github.io/p/hugowebtest/swwlz.c4c561d6cff12159fd5ed63c7674a05a_hu4fc87ac40ce0485d329b584162ffd86e_505599_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post hugoç½‘ç«™æ­å»º"
                        data-key="hugoWebTest" 
                        data-hash="md5-xMVh1s/xIVn9XtY8dnSgWg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">hugoç½‘ç«™æ­å»º</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="lihan3238.github.io/p/moviepy/">
        
        
            <div class="article-image">
                <img src="/lihan3238.github.io/p/moviepy/moviepy.feb3e899e560be66fae4b30a12e62e72_hu4aa774fa7f69433c26b270ae4ca021ba_23219_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post åŸºäºMoviePyå’Œedge-ttsçš„pythonç”Ÿæˆè§£è¯´éŸ³é¢‘å¹¶åˆæˆè§†é¢‘"
                        data-key="moviePy" 
                        data-hash="md5-/rPomeVgvmb65LMKEuYucg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">åŸºäºMoviePyå’Œedge-ttsçš„pythonç”Ÿæˆè§£è¯´éŸ³é¢‘å¹¶åˆæˆè§†é¢‘</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="lihan3238.github.io/p/point_6/">
        
        
            <div class="article-image">
                <img src="/lihan3238.github.io/p/point_6/tronclass.6f7534bf9fb79f957d9c6a605d6cd4a4_hu85133593f559546f760ca2ca7f175da2_21937_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ç•…è¯¾å¹³å°è¯¾ä»¶èµ„æ–™æ— æƒé™ä¸‹è½½"
                        data-key="point_6" 
                        data-hash="md5-b3U0v5&#43;3n5V9nGpgXWzUpA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ç•…è¯¾å¹³å°è¯¾ä»¶èµ„æ–™æ— æƒé™ä¸‹è½½</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "id",
        clientSecret: "cs",
        repo: "lihan3238.github.io",
        owner: "lihan3238",
        admin: ["lihan3238"],
        distractionFreeMode: false, 
        id: md5(location.pathname), 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2023 æå¯’çš„å°çª
    </section>
    
    <section class="powerby">
        
            æ½‡æ´’äººé—´ä¸€é”®ä»™ <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.21.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/lihan3238.github.io/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<!DOCTYPE html>
<html>

<head>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script>
</head>

<body>
    <div class="demo">
        <div id="player1">
        </div>
    </div>
    <script>
        var ap = new APlayer
            ({
                element: document.getElementById('player1'),
                fixed: true,
                autoplay: false,
                mini: true,
                theme: '#f8f4fc',
                loop: 'all',
                order: 'random',
                preload: 'auto',
                volume: 0.4,
                mutex: true,
                listFolded: true,
                listMaxHeight: '500px',
                lrcType: 0,
                music: [
                    {
                        name: 'catallena', url: 'https://github.com/lihan3238/music/raw/main/musics/catallena-æ©˜å­ç„¦ç³–.mp3', artist: 'æ©˜å­ç„¦ç³–', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'Escape(ThePinaColadaSong)', url: 'https://github.com/lihan3238/music/raw/main/musics/Escape(ThePinaColadaSong)-RupertHolmes.mp3', artist: 'RupertHolmes', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'freeLoop', url: 'https://github.com/lihan3238/music/raw/main/musics/freeLoop-DanielPowter.mp3', artist: 'DanielPowter', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'Happy', url: 'https://github.com/lihan3238/music/raw/main/musics/Happy-PharrellWilliams.mp3', artist: 'PharrellWilliams', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ITookAPillInlbiza(SeeBRemix)', url: 'https://github.com/lihan3238/music/raw/main/musics/ITookAPillInlbiza(SeeBRemix)-MikePosner,SeeB.mp3', artist: 'MikePosner,SeeB', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'monica', url: 'https://github.com/lihan3238/music/raw/main/musics/monica-å¼ å›½è£.mp3', artist: 'å¼ å›½è£', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'PhantomLimb', url: 'https://github.com/lihan3238/music/raw/main/musics/PhantomLimb-YellowMellow.m4a', artist: 'YellowMellow', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'SatTeeTouy', url: 'https://github.com/lihan3238/music/raw/main/musics/SatTeeTouy.mp4', artist: '', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'SayHello', url: 'https://github.com/lihan3238/music/raw/main/musics/SayHello-RosieThomas-SufjanStevens.mp3', artist: 'RosieThomas-SufjanStevens', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'SeeTinh', url: 'https://github.com/lihan3238/music/raw/main/musics/SeeTinh-HoÃ ngThÃ¹yLinh.mp3', artist: 'HoÃ ngThÃ¹yLinh', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'Sugar', url: 'https://github.com/lihan3238/music/raw/main/musics/Sugar-Maroon5.mp3', artist: 'Maroon5', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'TheEndOfTheWorld', url: 'https://github.com/lihan3238/music/raw/main/musics/TheEndOfTheWorld-SkeeterDavis.mp3', artist: 'SkeeterDavis', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ä¸€ç¬‘æ±Ÿæ¹– (DJå¼¹é¼“ç‰ˆ)', url: 'https://github.com/lihan3238/music/raw/main/musics/ä¸€ç¬‘æ±Ÿæ¹– (DJå¼¹é¼“ç‰ˆ)-é—»äººå¬æ›¸_.mp3', artist: 'é—»äººå¬æ›¸_', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…', url: 'https://github.com/lihan3238/music/raw/main/musics/ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…-ç¾¤æ˜Ÿ.mp3', artist: 'ç¾¤æ˜Ÿ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ä¸å¯èƒ½é”™è¿‡ä½ ', url: 'https://github.com/lihan3238/music/raw/main/musics/ä¸å¯èƒ½é”™è¿‡ä½ -ç‹åŠ›å®.mp3', artist: 'ç‹åŠ›å®', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ä¸è¯¥', url: 'https://github.com/lihan3238/music/raw/main/musics/ä¸è¯¥-å‘¨æ°ä¼¦_å¼ æƒ å¦¹.mp4', artist: 'å‘¨æ°ä¼¦_å¼ æƒ å¦¹', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ååå–œæ¬¢ä½ ', url: 'https://github.com/lihan3238/music/raw/main/musics/ååå–œæ¬¢ä½ -é™ˆç™¾å¼º.mp3', artist: 'é™ˆç™¾å¼º', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'åçˆ±', url: 'https://github.com/lihan3238/music/raw/main/musics/åçˆ±-å¼ èŠ¸äº¬.mp3', artist: 'å¼ èŠ¸äº¬', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å…°äº­åº', url: 'https://github.com/lihan3238/music/raw/main/musics/å…°äº­åº-å‘¨æ°ä¼¦.flac', artist: 'å‘¨æ°ä¼¦', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å†è§', url: 'https://github.com/lihan3238/music/raw/main/musics/å†è§-å¼ éœ‡å²³.mp3', artist: 'å¼ éœ‡å²³', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'åƒåƒé˜™æ­Œ', url: 'https://github.com/lihan3238/music/raw/main/musics/åƒåƒé˜™æ­Œ-å¼ å›½è£.m4a', artist: 'å¼ å›½è£', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'åƒå±‚å¥—è·¯', url: 'https://github.com/lihan3238/music/raw/main/musics/åƒå±‚å¥—è·¯-ä¸­æ‘åƒå¯».mp3', artist: 'ä¸­æ‘åƒå¯»', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å•è½¦', url: 'https://github.com/lihan3238/music/raw/main/musics/å•è½¦-æå…‹å‹¤.mp3', artist: 'æå…‹å‹¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å—å±æ™šé’Ÿ', url: 'https://github.com/lihan3238/music/raw/main/musics/å—å±æ™šé’Ÿ-å¾å°å‡¤.mp3', artist: 'å¾å°å‡¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'åªè¦å¹³å‡¡', url: 'https://github.com/lihan3238/music/raw/main/musics/åªè¦å¹³å‡¡-å¼ æ°.mp3', artist: 'å¼ æ°', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å‰ä»–åˆæ‹', url: 'https://github.com/lihan3238/music/raw/main/musics/å‰ä»–åˆæ‹-åˆ˜å¤§å£®.mp3', artist: 'åˆ˜å¤§å£®', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'åŒæ¡Œçš„ä½ ', url: 'https://github.com/lihan3238/music/raw/main/musics/åŒæ¡Œçš„ä½ -è€ç‹¼.mp3', artist: 'è€ç‹¼', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å›½é™…æ­Œ', url: 'https://github.com/lihan3238/music/raw/main/musics/å›½é™…æ­Œ-å”æœ.mp3', artist: 'å”æœ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å¤„å¤„å»', url: 'https://github.com/lihan3238/music/raw/main/musics/å¤„å¤„å»-æ¨åƒå¬….m4a', artist: 'æ¨åƒå¬…', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å¤œçš„ç¬¬ä¸ƒç« ', url: 'https://github.com/lihan3238/music/raw/main/musics/å¤œçš„ç¬¬ä¸ƒç« -å‘¨æ°ä¼¦.mp3', artist: 'å‘¨æ°ä¼¦', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å¤±æ‹', url: 'https://github.com/lihan3238/music/raw/main/musics/å¤±æ‹-è‰èœ¢.mp3', artist: 'è‰èœ¢', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å¯Œå£«å±±ä¸‹', url: 'https://github.com/lihan3238/music/raw/main/musics/å¯Œå£«å±±ä¸‹-é™ˆå¥•è¿….m4a', artist: 'é™ˆå¥•è¿…', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'å¿˜è®°æ—¶é—´', url: 'https://github.com/lihan3238/music/raw/main/musics/å¿˜è®°æ—¶é—´-èƒ¡æ­Œ.mp3', artist: 'èƒ¡æ­Œ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ‹çˆ±å¾ªç¯', url: 'https://github.com/lihan3238/music/raw/main/musics/æ‹çˆ±å¾ªç¯-èŠ±æ³½é¦™èœ.m4a', artist: 'èŠ±æ³½é¦™èœ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ”¹å˜è‡ªå·±', url: 'https://github.com/lihan3238/music/raw/main/musics/æ”¹å˜è‡ªå·±-ç‹åŠ›å®.mp3', artist: 'ç‹åŠ›å®', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ•¢çˆ±æ•¢åš', url: 'https://github.com/lihan3238/music/raw/main/musics/æ•¢çˆ±æ•¢åš-æ—å­ç¥¥.mp3', artist: 'æ—å­ç¥¥', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ™šé£å¿ƒé‡Œå¹', url: 'https://github.com/lihan3238/music/raw/main/musics/æ™šé£å¿ƒé‡Œå¹-æå…‹å‹¤.mp3', artist: 'æå…‹å‹¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æœˆåŠå°å¤œæ›²', url: 'https://github.com/lihan3238/music/raw/main/musics/æœˆåŠå°å¤œæ›²-åçŸ¥ç²ç¾.mp3', artist: 'åçŸ¥ç²ç¾', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æœˆåŠå°å¤œæ›²', url: 'https://github.com/lihan3238/music/raw/main/musics/æœˆåŠå°å¤œæ›²-æå…‹å‹¤.m4a', artist: 'æå…‹å‹¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ­Œå”±ç¤¾ä¼šä¸»ä¹‰ç¥–å›½', url: 'https://github.com/lihan3238/music/raw/main/musics/æ­Œå”±ç¤¾ä¼šä¸»ä¹‰ç¥–å›½-any.mp3', artist: 'any', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æµ·é˜”å¤©ç©º', url: 'https://github.com/lihan3238/music/raw/main/musics/æµ·é˜”å¤©ç©º-beyond.mp3', artist: 'beyond', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ¼ åŒ—èˆå…', url: 'https://github.com/lihan3238/music/raw/main/musics/æ¼ åŒ—èˆå…-æŸ³çˆ½.mp3', artist: 'æŸ³çˆ½', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'æ¼«æ­¥äººç”Ÿè·¯', url: 'https://github.com/lihan3238/music/raw/main/musics/æ¼«æ­¥äººç”Ÿè·¯-é‚“ä¸½å›.mp3', artist: 'é‚“ä¸½å›', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'çˆ±äººé”™è¿‡', url: 'https://github.com/lihan3238/music/raw/main/musics/çˆ±äººé”™è¿‡-å‘Šäº”äºº.mp3', artist: 'å‘Šäº”äºº', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'çˆ±ä½ ', url: 'https://github.com/lihan3238/music/raw/main/musics/çˆ±ä½ -ç‹å¿ƒå‡Œ.mp3', artist: 'ç‹å¿ƒå‡Œ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ç ´èŒ§', url: 'https://github.com/lihan3238/music/raw/main/musics/ç ´èŒ§-å¼ éŸ¶æ¶µ.mp3', artist: 'å¼ éŸ¶æ¶µ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ç§’é’ˆ', url: 'https://github.com/lihan3238/music/raw/main/musics/ç§’é’ˆ-é˜¿æ¢¨ç²¤.mp3', artist: 'é˜¿æ¢¨ç²¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'ç´ é¢œ', url: 'https://github.com/lihan3238/music/raw/main/musics/ç´ é¢œ-è®¸åµ©,ä½•æ›¼å©·.mp3', artist: 'è®¸åµ©,ä½•æ›¼å©·', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'çº¢æ—¥', url: 'https://github.com/lihan3238/music/raw/main/musics/çº¢æ—¥-æå…‹å‹¤.mp3', artist: 'æå…‹å‹¤', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'è®²ä¸å‡ºå†è§', url: 'https://github.com/lihan3238/music/raw/main/musics/è®²ä¸å‡ºå†è§-è°­å’éºŸ.mp3', artist: 'è°­å’éºŸ', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },
                    {
                        name: 'è¯‰è¡·è‚ ', url: 'https://github.com/lihan3238/music/raw/main/musics/è¯‰è¡·è‚ -å¤šäº®.mp3', artist: 'å¤šäº®', cover: 'https://user-images.githubusercontent.com/140466644/266218167-0a08d24b-2f75-4a6b-9253-227612dffa98.png'
                    },]
            });
        
    </script>
</body>
    </body>
</html>
