<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>VirtualBox on 李寒的小窝</title>
        <link>lihan3238.github.io/tags/virtualbox/</link>
        <description>Recent content in VirtualBox on 李寒的小窝</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Fri, 20 Oct 2023 15:33:00 +0800</lastBuildDate><atom:link href="lihan3238.github.io/tags/virtualbox/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>2023网络安全作业chap0x05</title>
        <link>lihan3238.github.io/p/nschap0x05/</link>
        <pubDate>Fri, 20 Oct 2023 15:33:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/nschap0x05/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/nschap0x05/assets/imgs/gitlab.png" alt="Featured image of post 2023网络安全作业chap0x05" /&gt;&lt;h1 id=&#34;基于-scapy-编写端口扫描器&#34;&gt;基于 Scapy 编写端口扫描器&lt;/h1&gt;
&lt;h2 id=&#34;实验目的&#34;&gt;实验目的&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;掌握网络扫描之端口状态探测的基本原理&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验环境&#34;&gt;实验环境&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;kali&lt;/li&gt;
&lt;li&gt;python 3.11.4&lt;/li&gt;
&lt;li&gt;scapy 2.5.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验要求&#34;&gt;实验要求&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 禁止探测互联网上的 IP ，严格遵守网络安全相关法律法规&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 完成以下扫描技术的编程实现&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;TCP connect scan / TCP stealth scan&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;TCP Xmas scan / TCP fin scan / TCP null scan&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;UDP scan&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 上述每种扫描技术的实现测试均需要测试端口状态为：开放、关闭 和 过滤 状态时的程序执行结果&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 提供每一次扫描测试的抓包结果并分析与课本中的扫描方法原理是否相符？如果不同，试分析原因；&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 在实验报告中详细说明实验网络环境拓扑、被测试 IP 的端口状态是如何模拟的&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验内容&#34;&gt;实验内容&lt;/h2&gt;
&lt;h3 id=&#34;实验网络环境拓扑&#34;&gt;实验网络环境拓扑&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/networkTopology.png&#34;
	width=&#34;775&#34;
	height=&#34;388&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/networkTopology_hua21f48f85e2615ce20e6947ee35dfdd9_33421_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/networkTopology_hua21f48f85e2615ce20e6947ee35dfdd9_33421_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;networkTopology&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;199&#34;
		data-flex-basis=&#34;479px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;如图所示网络中的节点基本信息如下&#34;&gt;如图所示网络中的节点基本信息如下：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;攻击者主机(lihanAttackerKaliChap4)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:ef:46:19/eth0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.135&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;受害者主机(lihanVictimKali1)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:93:2e:67/eth0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.102&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;网关(lihanGatewayDebian)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:63:cd:72/enp0s9&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实验过程&#34;&gt;实验过程&lt;/h3&gt;
&lt;h4 id=&#34;扫描技术的编程实现&#34;&gt;扫描技术的编程实现&lt;/h4&gt;
&lt;p&gt;测试端口状态为：开放、关闭 和 过滤 状态时的程序执行结果&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;关闭状态&lt;/strong&gt;：对应端口没有开启监听, 防火墙没有开启。
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ufw disable
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;开启状态&lt;/strong&gt;：对应端口开启监听: apache2基于TCP, 在80端口提供服务;防火墙ufw处于关闭状态。
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start apache2 &lt;span class=&#34;c1&#34;&gt;# port 80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;过滤状态&lt;/strong&gt;：对应端口开启监听, 防火墙开启。
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ufw &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ufw deny 80/tcp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;tcp-connect-scan--tcp-stealth-scan&#34;&gt;TCP connect scan / TCP stealth scan&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;TCP connect scan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种扫描方式可以使用 Connect()调用，使用最基本的 TCP 三次握手链接建立机制，建立一个链接到目标主机的特定端口上。
首先发送一个 SYN 数据包到目标主机的特定端口上，接着我们可以通过接收包的情况对端口的状态进行判断：&lt;/p&gt;
&lt;p&gt;如果接收到的是一个 SYN/ACK 数据包，则说明端口是开放状态的；
如果接收到的是一个 RST/ACK 数据包，通常意味着端口是关闭的并且链接将会被重置；
如果目标主机没有任何响应则意味着目标主机的端口处于过滤状态。&lt;/p&gt;
&lt;p&gt;若接收到 SYN/ACK 数据包（即检测到端口是开启的），便发送一个 ACK 确认包到目标主机，这样便完成了三次握手连接机制。成功后再终止连接。如图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPconnect.png&#34;
	width=&#34;612&#34;
	height=&#34;358&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPconnect_hu2fcce948b6de8d61ac1bf7038a97cf7a_64334_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPconnect_hu2fcce948b6de8d61ac1bf7038a97cf7a_64334_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;TCPconnect&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;170&#34;
		data-flex-basis=&#34;410px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tcp_connect_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[tcp_connect_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;S&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;R&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is open&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is filtered&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;TCP stealth scan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在&lt;code&gt;TCP connect scan&lt;/code&gt;基础上，收到目标主机的数据包后，不进行回应，从而不打成三次握手连接，这使得目标主机难以确定是否正在进行扫描。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tcp_stealth_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[tcp_stealth_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;S&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;R&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is open&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is filtered&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;tcp-xmas-scan--tcp-fin-scan--tcp-null-scan&#34;&gt;TCP Xmas scan / TCP fin scan / TCP null scan&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;TCP Xmas scan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Xmas 发送一个 TCP 包，并对 TCP 报文头 FIN、URG 和 PUSH 标记进行设置。若是关闭的端口则响应 RST 报文；开放或过滤状态下的端口则无任何响应。如图所示。优点是隐蔽性好，缺点是需要自己构造数据包，要求拥有超级用户或者授权用户权限。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPXmas.png&#34;
	width=&#34;590&#34;
	height=&#34;229&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPXmas_huc13d4f615fc8933595d9d2a6472d4df5_43025_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPXmas_huc13d4f615fc8933595d9d2a6472d4df5_43025_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;TCPXmas&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;257&#34;
		data-flex-basis=&#34;618px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tcp_xmas_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[tcp_xmas_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;FPU&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is filtered or opened&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;TCP fin scan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;仅发送 FIN 包，它可以直接通过防火墙，如果端口是关闭的就会回复一个 RST 包，如果端口是开放或过滤状态则对 FIN 包没有任何响应。如图所示。
其优点是 FIN 数据包能够通过只监测 SYN 包的包过滤器，且隐蔽性高于 SYN 扫描。缺点和 SYN 扫描类似，需要自己构造数据包，要求由超级用户或者授权用户访问专门的系统调用。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPfin.png&#34;
	width=&#34;613&#34;
	height=&#34;276&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPfin_hud8326b42f27dd19004e5ac9631aa1fa8_43236_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPfin_hud8326b42f27dd19004e5ac9631aa1fa8_43236_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;TCPfin&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;222&#34;
		data-flex-basis=&#34;533px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tcp_fin_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[tcp_fin_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;F&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is filtered or opened&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;TCP null scan&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;发送一个 TCP 数据包，关闭所有 TCP 报文头标记。只有关闭的端口会发送 RST 响应。其优点和 Xmas 一样是隐蔽性好，缺点也是需要自己构造数据包，要求拥有超级用户或者授权用户权限。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPnull.png&#34;
	width=&#34;595&#34;
	height=&#34;228&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPnull_hub1950af9f9b4a5be0b1c2c06d64bec18_39949_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/TCPnull_hub1950af9f9b4a5be0b1c2c06d64bec18_39949_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;TCPnull&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;260&#34;
		data-flex-basis=&#34;626px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tcp_null_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[tcp_null_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0x14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is filtered or opened&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h5 id=&#34;udp-scan&#34;&gt;UDP scan&lt;/h5&gt;
&lt;p&gt;UDP 是一个无链接的协议，当我们向目标主机的 UDP 端口发送数据,我们并不能收到一个开放端口的确认信息，或是关闭端口的错误信息。可是，在大多数情况下，当向一个未开放的 UDP 端口发送数据时,其主机就会返回一个 ICMP 不可到达(ICMP_PORT_UNREACHABLE)的错误，因此大多数 UDP 端口扫描的方法就是向各个被扫描的 UDP 端口发送零字节的 UDP 数据包，如果收到一个 ICMP 不可到达的回应，那么则认为这个端口是关闭的,对于没有回应的端口则认为是开放的，但是如果目标主机安装有防火墙或其它可以过滤数据包的软硬件,那我们发出 UDP 数据包后,将可能得不到任何回应,我们将会见到所有的被扫描端口都是开放的。如图所示：
其缺点是，UDP 是不可靠的，UDP 数据包和 ICMP 错误报文都不保证到达；且 ICMP 错误消息发送效率是有限的，故而扫描缓慢；还有就是非超级用户无法直接读取端口访问错误。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/UDPscan.png&#34;
	width=&#34;609&#34;
	height=&#34;267&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/UDPscan_hubbff7b1d95d516fa2bbe8412ec1fc0fb_43731_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/UDPscan_hubbff7b1d95d516fa2bbe8412ec1fc0fb_43731_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;UDPscan&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;228&#34;
		data-flex-basis=&#34;547px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;udp_scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[31m[udp_scan]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\033&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0m &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# 发送一个零字节的UDP数据包到目标端口&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;udp_packet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UDP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sr1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;udp_packet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verbose&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# 没有回应，通常认为端口是开放的&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is open or filtered&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;haslayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICMP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;c1&#34;&gt;# 收到ICMP错误消息&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getlayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICMP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getlayer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICMP&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;14&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is closed&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Port &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target_port&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; is open or filtered&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id=&#34;上述每种扫描技术的实现测试均需要测试端口状态为开放关闭-和-过滤-状态时的程序执行结果&#34;&gt;上述每种扫描技术的实现测试均需要测试端口状态为：开放、关闭 和 过滤 状态时的程序执行结果&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;codes/test.py&#34; &gt;代码&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;close&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_port_80.png&#34;
	width=&#34;409&#34;
	height=&#34;57&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_port_80_hu1bacf3d2585e46486248668ed6d8d5b2_13747_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_port_80_hu1bacf3d2585e46486248668ed6d8d5b2_13747_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;close_port_80&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;717&#34;
		data-flex-basis=&#34;1722px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_scan.png&#34;
	width=&#34;958&#34;
	height=&#34;936&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_scan_hu2195f9f21b8afe3f33c90e67af20ef29_278380_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/close_scan_hu2195f9f21b8afe3f33c90e67af20ef29_278380_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;close_scan&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;102&#34;
		data-flex-basis=&#34;245px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;open&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_port_80.png&#34;
	width=&#34;273&#34;
	height=&#34;48&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_port_80_hu36e0e8b7e0d47047072965c3bf004a61_8878_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_port_80_hu36e0e8b7e0d47047072965c3bf004a61_8878_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;open_port_80&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;568&#34;
		data-flex-basis=&#34;1365px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_scan.png&#34;
	width=&#34;958&#34;
	height=&#34;936&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_scan_hu7c9592ac10e7e290ae5ca2df383b1b23_282380_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/open_scan_hu7c9592ac10e7e290ae5ca2df383b1b23_282380_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;open_scan&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;102&#34;
		data-flex-basis=&#34;245px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;filter&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_port_80.png&#34;
	width=&#34;448&#34;
	height=&#34;87&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_port_80_hud85c68c94ad26a60d8b5110c1bbb7b56_25420_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_port_80_hud85c68c94ad26a60d8b5110c1bbb7b56_25420_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;filter_port_80&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;514&#34;
		data-flex-basis=&#34;1235px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_scan.png&#34;
	width=&#34;958&#34;
	height=&#34;936&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_scan_hu3f7ecf7302fdf9bfb9ba5a8e272b4b29_279381_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/filter_scan_hu3f7ecf7302fdf9bfb9ba5a8e272b4b29_279381_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;filter_scan&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;102&#34;
		data-flex-basis=&#34;245px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;提供每一次扫描测试的抓包结果并分析与课本中的扫描方法原理是否相符如果不同试分析原因&#34;&gt;提供每一次扫描测试的抓包结果并分析与课本中的扫描方法原理是否相符？如果不同，试分析原因&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;close&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_close.png&#34;
	width=&#34;1469&#34;
	height=&#34;222&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_close_hue68820dc5eb47aea015aabc5e34d8691_71725_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_close_hue68820dc5eb47aea015aabc5e34d8691_71725_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;wireshark_close&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;661&#34;
		data-flex-basis=&#34;1588px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;open&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_open.png&#34;
	width=&#34;1803&#34;
	height=&#34;270&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_open_huef755eb447a723ae2ee626e3faf42afe_92928_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_open_huef755eb447a723ae2ee626e3faf42afe_92928_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;wireshark_open&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;667&#34;
		data-flex-basis=&#34;1602px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;filter&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_filter.png&#34;
	width=&#34;1362&#34;
	height=&#34;115&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_filter_hucb007992fe89aada4dbfa996e87311d1_36892_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x05/assets/imgs/wireshark_filter_hucb007992fe89aada4dbfa996e87311d1_36892_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;wireshark_filter&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1184&#34;
		data-flex-basis=&#34;2842px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;实验问题&#34;&gt;实验问题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;python报错&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在windows编写完代码后传到kali
虚拟机运行时报错&lt;code&gt;SyntaxError: Non-ASCII character &#39;\xe7&#39; in file test.py on line 3, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;解决方法：在文件开头加入&lt;code&gt;# -*- coding: utf-8 -*-&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Docker和Virtualbox的冲突</title>
        <link>lihan3238.github.io/p/point_1/</link>
        <pubDate>Sun, 15 Oct 2023 22:13:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/point_1/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/point_1/DockerVbox.png" alt="Featured image of post Docker和Virtualbox的冲突" /&gt;&lt;h1 id=&#34;问题&#34;&gt;问题&lt;/h1&gt;
&lt;p&gt;在使用VirtualBox的时候，发现无法启动所有虚拟机时报错。&lt;/p&gt;
&lt;h1 id=&#34;原因&#34;&gt;原因&lt;/h1&gt;
&lt;p&gt;安装了Docker，Docker开发环境会强制开启Hyper-V，导致VirtualBox无法启动。&lt;/p&gt;
&lt;h1 id=&#34;解决方案&#34;&gt;解决方案&lt;/h1&gt;
&lt;p&gt;打开&amp;quot;开始&amp;quot;菜单，搜索&amp;quot;程序和功能&amp;quot;,选择&amp;quot;启用或关闭 Windows功能&amp;quot;，在列表中找到&amp;quot;Hyper-V&amp;quot;把前面的勾选取消并确定。
这个时候已经开始卸载，卸载完毕重启电脑即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/point_1/1.png&#34;
	width=&#34;911&#34;
	height=&#34;959&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/point_1/1_hu6875bfa1f0ce840c5a337155b800ba19_720551_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/point_1/1_hu6875bfa1f0ce840c5a337155b800ba19_720551_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;94&#34;
		data-flex-basis=&#34;227px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/point_1/2.png&#34;
	width=&#34;484&#34;
	height=&#34;492&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/point_1/2_hu59d462c64f560533c073c9eec9596412_40171_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/point_1/2_hu59d462c64f560533c073c9eec9596412_40171_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;98&#34;
		data-flex-basis=&#34;236px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;如果还是不行那就用命令行再进行关闭。
以管理员身份运行命令提示符
执行命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bcdedit /set hypervisorlaunchtype off
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;重启，运行Virtual Box即可&lt;/p&gt;
&lt;h1 id=&#34;恢复&#34;&gt;恢复&lt;/h1&gt;
&lt;p&gt;如果想要恢复hyper启动，&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bcdedit / &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; hypervisorlaunchtype autok
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h1 id=&#34;一劳永逸&#34;&gt;一劳永逸&lt;/h1&gt;
&lt;p&gt;windows上安装docker时，选择wsl2 instead of HyperV，装在wsl2上就完了&lt;/p&gt;
</description>
        </item>
        <item>
        <title>2023网络安全作业chap0x04</title>
        <link>lihan3238.github.io/p/nschap0x04/</link>
        <pubDate>Wed, 11 Oct 2023 00:33:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/nschap0x04/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/nschap0x04/assets/imgs/gitlab.png" alt="Featured image of post 2023网络安全作业chap0x04" /&gt;&lt;h1 id=&#34;网络监听实验&#34;&gt;网络监听实验&lt;/h1&gt;
&lt;h2 id=&#34;实验环境&#34;&gt;实验环境&lt;/h2&gt;
&lt;h3 id=&#34;网络拓扑&#34;&gt;网络拓扑&lt;/h3&gt;
&lt;p&gt;使用&lt;code&gt;第一次实验&lt;/code&gt;中的internalNetwork1的&lt;code&gt;lihanGatewayDebian&lt;/code&gt;、&lt;code&gt;lihanVictimKali1&lt;/code&gt;以及新配置的&lt;code&gt;lihanAttackerKaliChap4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/networkTopology.png&#34;
	width=&#34;775&#34;
	height=&#34;388&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/networkTopology_hua21f48f85e2615ce20e6947ee35dfdd9_33421_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/networkTopology_hua21f48f85e2615ce20e6947ee35dfdd9_33421_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;networkTopology&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;199&#34;
		data-flex-basis=&#34;479px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;如图所示网络中的节点基本信息如下&#34;&gt;如图所示网络中的节点基本信息如下：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;攻击者主机(lihanAttackerKaliChap4)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:ef:46:19/eth0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.135&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;受害者主机(lihanVictimKali1)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:93:2e:67/eth0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.102&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;网关(lihanGatewayDebian)&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;mac地址：08:00:27:63:cd:72/enp0s9&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;ip地址：172.16.111.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验要求&#34;&gt;实验要求&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 实验一：检测局域网中的异常终端&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 实验二：手工单步“毒化”目标主机的 ARP 缓存&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验过程&#34;&gt;实验过程&lt;/h2&gt;
&lt;h3 id=&#34;实验准备&#34;&gt;实验准备&lt;/h3&gt;
&lt;p&gt;确定在攻击者主机上提前安装好 &lt;code&gt;scapy&lt;/code&gt; 并更新&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip3 install scapy&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;complete&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/confirmScapy.png&#34;
	width=&#34;800&#34;
	height=&#34;600&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/confirmScapy_hu25a323a4c9a71b6a8dd9b8f94bf81f4b_223969_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/confirmScapy_hu25a323a4c9a71b6a8dd9b8f94bf81f4b_223969_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;confirmScapy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;实验一检测局域网中的异常终端&#34;&gt;实验一：检测局域网中的异常终端&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;注意，启动虚拟机前 要在虚拟机的网络配置处，允许开启混杂模式。&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;在受害者主机上检查网卡的「混杂模式」是否启用&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip link show eth0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check1.png&#34;
	width=&#34;914&#34;
	height=&#34;121&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check1_huf38c8ef3d9bab5974d25a16bff6f239a_40896_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check1_huf38c8ef3d9bab5974d25a16bff6f239a_40896_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;check1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;755&#34;
		data-flex-basis=&#34;1812px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;输出结果里没有出现&lt;code&gt;PROMISC&lt;/code&gt;字符串,未开启混杂模式&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;在攻击者主机上使用 &lt;code&gt;scapy&lt;/code&gt; 发送 ARP 请求包，获取局域网中的主机信息&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo scapy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pkt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; promiscping&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.102&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping1.png&#34;
	width=&#34;662&#34;
	height=&#34;435&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping1_hue0e2f64efef994cf9870d753655d946f_112986_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping1_hue0e2f64efef994cf9870d753655d946f_112986_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;promiscping1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;152&#34;
		data-flex-basis=&#34;365px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;开启该网卡的「混杂模式」&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo ip link &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; eth0 promisc on
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check2.png&#34;
	width=&#34;943&#34;
	height=&#34;183&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check2_hu1b8eb965fb906f9646b51226a41fd49c_62780_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/check2_hu1b8eb965fb906f9646b51226a41fd49c_62780_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;check2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;515&#34;
		data-flex-basis=&#34;1236px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;此时会发现输出结果里多出来了 &lt;code&gt;PROMISC&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;再次使用 &lt;code&gt;scapy&lt;/code&gt; 发送 ARP 请求包，获取局域网中的主机信息&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pkt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; promiscping&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.102&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping2.png&#34;
	width=&#34;457&#34;
	height=&#34;88&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping2_hu4d2f34a9c9b3a3df160be7ffffa11040_26055_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/promiscping2_hu4d2f34a9c9b3a3df160be7ffffa11040_26055_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;promiscping2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;519&#34;
		data-flex-basis=&#34;1246px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;关闭该网卡的「混杂模式」&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo ip link &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; eth0 promisc off
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;混杂模式 接收所有经过网卡的数据包，包括不是发给本机的包，不验证MAC地址&lt;/li&gt;
&lt;li&gt;普通模式 网卡只接收发给本机的包&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用&lt;code&gt;wireshark&lt;/code&gt;分析：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/wireshark1.png&#34;
	width=&#34;915&#34;
	height=&#34;178&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/wireshark1_hu8183507d901ac3bd84b903caa29ad380_38084_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/wireshark1_hu8183507d901ac3bd84b903caa29ad380_38084_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;wireshark1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;514&#34;
		data-flex-basis=&#34;1233px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;promiscping&lt;/code&gt;命令会发送&lt;code&gt;ARP who-has 请求&lt;/code&gt;,且没有指定目的主机的MAC地址，只有受害者主机开启&lt;code&gt;混杂模式&lt;/code&gt;后，才能收到该请求包。&lt;/p&gt;
&lt;h3 id=&#34;实验二手工单步毒化目标主机的-arp-缓存&#34;&gt;实验二：手工单步“毒化”目标主机的 ARP 缓存&lt;/h3&gt;
&lt;h4 id=&#34;获取当前局域网的网关-mac-地址&#34;&gt;获取当前局域网的网关 MAC 地址&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;构造一个 ARP 请求&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;arpbroadcast&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Ether&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ff:ff:ff:ff:ff:ff&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;/ARP&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;op&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1,pdst&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 查看构造好的 ARP 请求报文详情&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;arpbroadcast.show&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp1.png&#34;
	width=&#34;649&#34;
	height=&#34;281&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp1_hu839d025169b9fea5dcb985d763301c31_61783_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp1_hu839d025169b9fea5dcb985d763301c31_61783_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;arp1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;230&#34;
		data-flex-basis=&#34;554px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;发送 ARP 请求&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;recved&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; srp&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;arpbroadcast, &lt;span class=&#34;nv&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp1.png&#34;
	width=&#34;485&#34;
	height=&#34;85&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp1_hu9977dd526875f1028b2f73aba7f804a3_17398_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp1_hu9977dd526875f1028b2f73aba7f804a3_17398_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;sendArp1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;570&#34;
		data-flex-basis=&#34;1369px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;查看网关 MAC 地址&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gw_mac&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; recved&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.hwsrc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gw_mac
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/gwMac.png&#34;
	width=&#34;281&#34;
	height=&#34;52&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/gwMac_hue797efb2b3d438e7214a734e732ddeef_12685_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/gwMac_hue797efb2b3d438e7214a734e732ddeef_12685_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;gwMac&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;540&#34;
		data-flex-basis=&#34;1296px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;伪造网关的-arp-响应包&#34;&gt;伪造网关的 ARP 响应包&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;发送给受害者主机 192.168.0.102,ARP 响应的目的 MAC 地址设置为攻击者主机的 MAC 地址&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;arpspoofed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Ether&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;/ARP&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;op&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2, &lt;span class=&#34;nv&#34;&gt;psrc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.1&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;pdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.102&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;hwdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08:00:27:ef:48:19&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;arpspoofed.show&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp2.png&#34;
	width=&#34;651&#34;
	height=&#34;265&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp2_hu117867943f1ad447c3ed453d4d69ef2f_64285_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arp2_hu117867943f1ad447c3ed453d4d69ef2f_64285_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;arp2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;245&#34;
		data-flex-basis=&#34;589px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;发送 ARP 响应包&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sendp&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;arpspoofed&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp2.png&#34;
	width=&#34;184&#34;
	height=&#34;64&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp2_hu284d87b07829ea6783c3970d3fe6c0b5_5918_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/sendArp2_hu284d87b07829ea6783c3970d3fe6c0b5_5918_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;sendArp2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;287&#34;
		data-flex-basis=&#34;690px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在受害者主机上查看 ARP 缓存&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arpCache1.png&#34;
	width=&#34;452&#34;
	height=&#34;151&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arpCache1_hudb9a0c78c3f60f2c86e3a3a255dcd147_41031_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/arpCache1_hudb9a0c78c3f60f2c86e3a3a255dcd147_41031_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;arpCache1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;299&#34;
		data-flex-basis=&#34;718px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;发现网关的 MAC 地址已被「替换」为攻击者主机的 MAC 地址&lt;/p&gt;
&lt;h4 id=&#34;恢复受害者主机的-arp-缓存&#34;&gt;恢复受害者主机的 ARP 缓存&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;伪装网关给受害者发送 ARP 响应&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;restorepkt1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Ether&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;/ARP&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;op&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2, &lt;span class=&#34;nv&#34;&gt;psrc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.1&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;hwsrc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08:00:27:63:cd:72&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;pdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.102&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;hwdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08:00:27:93:2e:67&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sendp&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;restorepkt1, &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;100, &lt;span class=&#34;nv&#34;&gt;inter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore1.png&#34;
	width=&#34;1011&#34;
	height=&#34;86&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore1_hu0fa28d9003c00874e5b167d7ce23175c_23520_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore1_hu0fa28d9003c00874e5b167d7ce23175c_23520_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;restore1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1175&#34;
		data-flex-basis=&#34;2821px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;伪装受害者给网关发送 ARP 响应&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;restorepkt2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Ether&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;/ARP&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;op&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2, &lt;span class=&#34;nv&#34;&gt;pdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.1&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;hwdst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08:00:27:63:cd:72&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;psrc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.111.102&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;hwsrc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08:00:27:93:2e:67&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sendp&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;restorepkt2, &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;100, &lt;span class=&#34;nv&#34;&gt;inter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore2.png&#34;
	width=&#34;973&#34;
	height=&#34;109&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore2_hu72f201f35c956af1b1f57e7346fb4e17_44938_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore2_hu72f201f35c956af1b1f57e7346fb4e17_44938_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;restore2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;892&#34;
		data-flex-basis=&#34;2142px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在受害者主机上准备“刷新”网关 ARP 记录&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ping 192.168.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip neigh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore3.png&#34;
	width=&#34;505&#34;
	height=&#34;470&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore3_hub799b31e2573d5a0b981869071d4bd26_114876_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x04/assets/imgs/restore3_hub799b31e2573d5a0b981869071d4bd26_114876_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;restore3&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;107&#34;
		data-flex-basis=&#34;257px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;实验问题&#34;&gt;实验问题&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;实验环境配置
配置实验环境时候，产生了一个疑问，网络拓扑中的switch如何实现。之前只配置过vbox中的几种网络模式，没有专门选择switch或者hub。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;解决&lt;/code&gt;
在联网搜索及浏览上次实验时的&lt;a class=&#34;link&#34; href=&#34;https://lihan3238.github.io/p/virtualnetwork&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;笔记&lt;/a&gt;后，了解到，Vbox中不需要专门配置switch或者hub，多种网络模式分别对应着不同的网络拓扑结构，虚拟出了switch等，根据需要选择即可。实验中需要的网络拓扑，选择&lt;code&gt;Internal Network(内部网络)&lt;/code&gt;即可。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;网卡配置
配置攻击主机&lt;code&gt;lihanAttackerKaliChap4&lt;/code&gt;的网卡时，发现不能获取ip地址。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;解决&lt;/code&gt;
发现是因为自己没有开机&lt;code&gt;Gateway&lt;/code&gt;主机，开机后，攻击主机可以获取到ip地址。&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://c4pr1c3.github.io/cuc-ns/chap0x04/exp.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;网络安全-第四章 网络监听&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://courses.cuc.edu.cn/course/111120/learning-activity/full-screen#/577986&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;黄老师的畅课视频回放&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lihan3238.github.io/p/virtualnetwork/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VirtualBox虚拟机几种网络的区别&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>2023网络安全作业chap0x01</title>
        <link>lihan3238.github.io/p/nschap0x01/</link>
        <pubDate>Fri, 22 Sep 2023 00:31:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/nschap0x01/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/nschap0x01/assets/imgs/gitlab.png" alt="Featured image of post 2023网络安全作业chap0x01" /&gt;&lt;h1 id=&#34;基于-virtualbox-的网络攻防基础环境搭建&#34;&gt;基于 VirtualBox 的网络攻防基础环境搭建&lt;/h1&gt;
&lt;h2 id=&#34;实验目的&#34;&gt;实验目的&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;掌握 VirtualBox 虚拟机的安装与使用；&lt;/li&gt;
&lt;li&gt;掌握 VirtualBox 的虚拟网络类型和按需配置；&lt;/li&gt;
&lt;li&gt;掌握 VirtualBox 的虚拟硬盘多重加载；&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验环境&#34;&gt;实验环境&lt;/h2&gt;
&lt;p&gt;以下是本次实验需要使用的网络节点说明和主要软件举例：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VirtualBox 虚拟机&lt;/li&gt;
&lt;li&gt;攻击者主机（Attacker）：Kali-linux-2023.3-virtalbox-amd64&lt;/li&gt;
&lt;li&gt;网关（Gateway, GW）：Debian Buster&lt;/li&gt;
&lt;li&gt;靶机（Victim）：From Sqli to shell / xp-sp3 / Kali&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验要求&#34;&gt;实验要求&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 虚拟硬盘配置成多重加载，效果如下图所示；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-multi-attach.png&#34;
	width=&#34;1119&#34;
	height=&#34;881&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-multi-attach_hu91c0c62fc15766be6bf542971dff0206_267354_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-multi-attach_hu91c0c62fc15766be6bf542971dff0206_267354_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;127&#34;
		data-flex-basis=&#34;304px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 搭建满足如下拓扑图所示的虚拟机网络拓扑；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-exp-layout.png&#34;
	width=&#34;1193&#34;
	height=&#34;1004&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-exp-layout_hu5efd757a154689fba8ff67c9a6fdf5df_229276_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/vb-exp-layout_hu5efd757a154689fba8ff67c9a6fdf5df_229276_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;118&#34;
		data-flex-basis=&#34;285px&#34;
	
&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;根据实验宿主机的性能条件，可以适度精简靶机数量&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;完成以下网络连通性测试；
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 靶机可以直接访问攻击者主机&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 攻击者主机无法直接访问靶机&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 网关可以直接访问攻击者主机和靶机&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 靶机的所有对外上下行流量必须经过网关&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 所有节点均可以访问互联网&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实验过程&#34;&gt;实验过程&lt;/h2&gt;
&lt;h3 id=&#34;配置虚拟机与虚拟硬盘&#34;&gt;配置虚拟机与虚拟硬盘&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;从&lt;a class=&#34;link&#34; href=&#34;https://kod.cuc.edu.cn/#s/8d01XBZA?passwor2ed=nG8qk&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;中传云盘&lt;/a&gt;下载黄老师的.vdi文件，并解压到本地目录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在VirtualBox中注册三个虚拟硬盘
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/signUpVirtualDisk_1.png&#34;
	width=&#34;1920&#34;
	height=&#34;1080&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/signUpVirtualDisk_1_huc357c1308c7d0a6fb2e1a184df4bfc00_262644_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/signUpVirtualDisk_1_huc357c1308c7d0a6fb2e1a184df4bfc00_262644_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;signUpVirtualDisk_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;177&#34;
		data-flex-basis=&#34;426px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建虚拟机：
创建虚拟机，选择&lt;code&gt;Use an Existing Virtual Hard Disk File&lt;/code&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_1.png&#34;
	width=&#34;932&#34;
	height=&#34;471&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_1_hu5d4d6fafea4f871475f2a9437c81ec2d_68932_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_1_hu5d4d6fafea4f871475f2a9437c81ec2d_68932_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;createNewVirtualComputer_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;197&#34;
		data-flex-basis=&#34;474px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置&lt;code&gt;多重加载&lt;/code&gt;
如果直接在&lt;code&gt;虚拟硬盘&lt;/code&gt;界面设置&lt;code&gt;多重加载&lt;/code&gt;，会出现报错显示版本过低，如图:
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/setDisk_1.png&#34;
	width=&#34;1920&#34;
	height=&#34;991&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/setDisk_1_hud3e6b541b25e5d6097bf5075ea3a7940_105414_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/setDisk_1_hud3e6b541b25e5d6097bf5075ea3a7940_105414_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;setDisk_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;193&#34;
		data-flex-basis=&#34;464px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;解决方法：先进行&lt;code&gt;步骤3.&lt;/code&gt;，点开运行虚拟机后退出，再进行&lt;code&gt;步骤4.&lt;/code&gt;，即可成功设置&lt;code&gt;多重加载&lt;/code&gt;。
这个方法是偶然间发现的，个人猜测原因是启动虚拟机后，VirtualBox会自动更新虚拟机的版本，从而解决了版本过低的问题。&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;重复&lt;code&gt;步骤3.&lt;/code&gt;和&lt;code&gt;步骤4.&lt;/code&gt;，创建6个虚拟机，分别命名为&lt;code&gt;Attacker-kali&lt;/code&gt;、&lt;code&gt;Gateway-Debian&lt;/code&gt;、&lt;code&gt;Victim-XP-1&lt;/code&gt;、&lt;code&gt;Victim-XP-2&lt;/code&gt;、&lt;code&gt;Victim-Kali-1&lt;/code&gt;、&lt;code&gt;Victim-Debian-2&lt;/code&gt;，并设置虚拟硬盘为&lt;code&gt;多重加载&lt;/code&gt;，简单分了个组，如图：
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_2.png&#34;
	width=&#34;1920&#34;
	height=&#34;991&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_2_hu8565be8fcf7e0d64c545752ebff6450f_144741_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createNewVirtualComputer_2_hu8565be8fcf7e0d64c545752ebff6450f_144741_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;createNewVirtualComputer_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;193&#34;
		data-flex-basis=&#34;464px&#34;
	
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;配置虚拟机网络搭建网络拓扑&#34;&gt;配置虚拟机网络、搭建网络拓扑&lt;/h3&gt;
&lt;h4 id=&#34;创建host-only网络&#34;&gt;创建&lt;code&gt;Host-Only&lt;/code&gt;网络&lt;/h4&gt;
&lt;p&gt;创建网卡&lt;code&gt;VirtualBox Host-Only Ethernet Adapter #2&lt;/code&gt;
配置地址为&lt;code&gt;192.168.74.1&lt;/code&gt; 子网掩码为&lt;code&gt;255.255.255.0&lt;/code&gt;
启用DHCP服务器，配置服务器地址为&lt;code&gt;192.168.74.100&lt;/code&gt; 子网掩码为&lt;code&gt;255.255.255.0&lt;/code&gt;
地址范围为&lt;code&gt;192.168.74.101~254&lt;/code&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_1.png&#34;
	width=&#34;688&#34;
	height=&#34;950&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_1_hu3b4524d4fdce14651b2b5ee9d814795b_21135_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_1_hu3b4524d4fdce14651b2b5ee9d814795b_21135_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;createHostOnly_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;72&#34;
		data-flex-basis=&#34;173px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_2.png&#34;
	width=&#34;582&#34;
	height=&#34;949&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_2_hu45c6e8159ef30c0e9050f2f45f99a245_18009_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/createHostOnly_2_hu45c6e8159ef30c0e9050f2f45f99a245_18009_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;createHostOnly_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;61&#34;
		data-flex-basis=&#34;147px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;配置虚拟机及网络&#34;&gt;配置虚拟机及网络&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Gateway-Debian
&lt;ul&gt;
&lt;li&gt;网卡1：&lt;code&gt;NAT网络地址转换&lt;/code&gt;
ip:10.0.2.15/24&lt;/li&gt;
&lt;li&gt;网卡2：&lt;code&gt;仅主机(Host-Only)网络&lt;/code&gt;
选择&lt;code&gt;VirtualBox Host-Only Ethernet Adapter #2&lt;/code&gt;
ip:192.168.74.101/24&lt;/li&gt;
&lt;li&gt;网卡3：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork1&lt;/code&gt;
ip:172.16.111.1/24&lt;/li&gt;
&lt;li&gt;网卡4：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork2&lt;/code&gt;
ip:172.16.222.1/24
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_1.png&#34;
	width=&#34;1202&#34;
	height=&#34;108&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_1_hu81bba8ab08069ac771d136e33f285a7d_7681_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_1_hu81bba8ab08069ac771d136e33f285a7d_7681_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Gateway_Debian_net_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1112&#34;
		data-flex-basis=&#34;2671px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_2.png&#34;
	width=&#34;1370&#34;
	height=&#34;866&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_2_hua50d4bf3d25d3a3402cced430abdc394_197438_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_2_hua50d4bf3d25d3a3402cced430abdc394_197438_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Gateway_Debian_net_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;158&#34;
		data-flex-basis=&#34;379px&#34;
	
&gt;
开机后发现需要输入账号密码，浏览网络及尝试后得知，Debian的root账号密码为:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;账号： &lt;code&gt;root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;密码： &lt;code&gt;toor&lt;/code&gt;
重置了&lt;code&gt;cuc&lt;/code&gt;账户的密码为&lt;code&gt;cuc&lt;/code&gt;，方便使用。
检查网卡配置文件发现老师给的镜像中网卡配置已经配置好了。
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_3.png&#34;
	width=&#34;1183&#34;
	height=&#34;631&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_3_hu216273218893f9bea49d2a78574e3eb6_161022_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Gateway_Debian_net_3_hu216273218893f9bea49d2a78574e3eb6_161022_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Gateway_Debian_net_3&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;187&#34;
		data-flex-basis=&#34;449px&#34;
	
&gt;&lt;/li&gt;
&lt;li&gt;突然意识到还有5个虚拟机，重新改了一下&lt;code&gt;hostname&lt;/code&gt;为&lt;code&gt;lihanGatewayDebian&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Victim-XP-1/2
以&lt;code&gt;Victim-XP-1&lt;/code&gt;为例，另一个同理。
&lt;ul&gt;
&lt;li&gt;网卡1：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork1&lt;/code&gt;
ip:172.16.111.112
网关:172.16.111.1
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_2.png&#34;
	width=&#34;1202&#34;
	height=&#34;57&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_2_hu7e045a0d40913100db21466d648e65fb_3490_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_2_hu7e045a0d40913100db21466d648e65fb_3490_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_XP_net_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;2108&#34;
		data-flex-basis=&#34;5061px&#34;
	
&gt;
开机验证：
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_1.png&#34;
	width=&#34;1786&#34;
	height=&#34;866&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_1_hu9642fc70117ac8e9c5c10e0d2960b7bc_474580_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_xp_net_1_hu9642fc70117ac8e9c5c10e0d2960b7bc_474580_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_XP_net_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;206&#34;
		data-flex-basis=&#34;494px&#34;
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Victim-XP-2&lt;/code&gt;
- 网卡1：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork2&lt;/code&gt;
ip:172.16.222.114
网关:172.16.222.1&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Victim-kali-1
开机后发现需要输入账号密码，浏览网络及尝试后得知，Debian的root账号密码为:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;账号： &lt;code&gt;kali&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;密码： &lt;code&gt;kali&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;网卡1：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork1&lt;/code&gt;
ip:172.16.111.102
网关:172.16.111.1
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_1.png&#34;
	width=&#34;1202&#34;
	height=&#34;57&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_1_hua71d1b0256109f812c73eef8820ecee7_2472_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_1_hua71d1b0256109f812c73eef8820ecee7_2472_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_kali_net_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;2108&#34;
		data-flex-basis=&#34;5061px&#34;
	
&gt;
开机验证：
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_2.png&#34;
	width=&#34;1916&#34;
	height=&#34;893&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_2_hu0a259046b5a05dc0ae94a1495cae69a1_475202_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_kali_net_2_hu0a259046b5a05dc0ae94a1495cae69a1_475202_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_kali_net_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;214&#34;
		data-flex-basis=&#34;514px&#34;
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;
&lt;p&gt;Victim-Debian-2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网卡1：&lt;code&gt;内部网络(InternalNetwork)&lt;/code&gt;
命名为&lt;code&gt;InternalNetwork2&lt;/code&gt;
ip:172.16.222.143
网关:172.16.222.1
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_1.png&#34;
	width=&#34;1202&#34;
	height=&#34;57&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_1_hub028a6c9bd0ede4bd7109148d2ae1f9a_3494_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_1_hub028a6c9bd0ede4bd7109148d2ae1f9a_3494_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_Debian_net_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;2108&#34;
		data-flex-basis=&#34;5061px&#34;
	
&gt;
开机验证：
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_2.png&#34;
	width=&#34;1784&#34;
	height=&#34;616&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_2_hu92b59fd160c51447216cc644762d3fa9_132603_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Victim_Debian_net_2_hu92b59fd160c51447216cc644762d3fa9_132603_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Victim_Debian_net_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;289&#34;
		data-flex-basis=&#34;695px&#34;
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Attacker-kali
创建NAT网络,并修改Gateway-Debian的网卡1为NAT网络:
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet.png&#34;
	width=&#34;861&#34;
	height=&#34;951&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet_huf34ac73c031b08158c08c1c895688ce4_16700_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet_huf34ac73c031b08158c08c1c895688ce4_16700_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Natnet&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;90&#34;
		data-flex-basis=&#34;217px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet_0.png&#34;
	width=&#34;1202&#34;
	height=&#34;108&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet_0_hu6c0ce3f4d3f5513aef52363a6a6fa3ca_8071_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/NatNet_0_hu6c0ce3f4d3f5513aef52363a6a6fa3ca_8071_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Natnet_0&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1112&#34;
		data-flex-basis=&#34;2671px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网卡1：&lt;code&gt;NAT网络&lt;/code&gt;
ip: 10.0.2.4&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_1.png&#34;
	width=&#34;1202&#34;
	height=&#34;57&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_1_hu288ed658ece81fc154bee86a8e7fcb0f_3561_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_1_hu288ed658ece81fc154bee86a8e7fcb0f_3561_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Attacker_kali_net_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;2108&#34;
		data-flex-basis=&#34;5061px&#34;
	
&gt;
开机验证：
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_2.png&#34;
	width=&#34;1779&#34;
	height=&#34;708&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_2_hu8d7363f74341a22c4bb530e97078b300_487070_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker_kali_net_2_hu8d7363f74341a22c4bb530e97078b300_487070_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Attacker_kali_net_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;251&#34;
		data-flex-basis=&#34;603px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;进行尚未进行过的网络连通性验证&#34;&gt;进行尚未进行过的网络连通性验证&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;靶机-攻击机&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;靶机可以直接访问攻击者主机&lt;/li&gt;
&lt;li&gt;攻击者主机无法直接访问靶机
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker-Victim_1.png&#34;
	width=&#34;1616&#34;
	height=&#34;684&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker-Victim_1_hu9bae9f4af4f9dcaad9506d48c4b5003c_205297_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Attacker-Victim_1_hu9bae9f4af4f9dcaad9506d48c4b5003c_205297_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Attacker-Victim_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;236&#34;
		data-flex-basis=&#34;567px&#34;
	
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;靶机的所有对外上下行流量必须经过网关
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/gateNet.png&#34;
	width=&#34;1920&#34;
	height=&#34;618&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/gateNet_hu434b5a303382e4fe0842ce16d5da01d2_89194_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/gateNet_hu434b5a303382e4fe0842ce16d5da01d2_89194_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;gatNet&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;310&#34;
		data-flex-basis=&#34;745px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;总览&#34;&gt;总览&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Network.png&#34;
	width=&#34;824&#34;
	height=&#34;693&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Network_hu35fe7024398c0a1d26ce6b598be7d72d_165294_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/Network_hu35fe7024398c0a1d26ce6b598be7d72d_165294_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;network&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;118&#34;
		data-flex-basis=&#34;285px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;实验问题&#34;&gt;实验问题&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;修改Debian的主机名后，使用&lt;code&gt;sudo&lt;/code&gt;命令时会出现如下报错：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo: unable to resolve host lihanDebian: No address associated with hostname
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_2.png&#34;
	width=&#34;991&#34;
	height=&#34;52&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_2_hue4429560c37e3015db33c05b71923900_13168_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_2_hue4429560c37e3015db33c05b71923900_13168_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;sudoError_1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;1905&#34;
		data-flex-basis=&#34;4573px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;应该是修改了主机名后一些程序调用的仍然是原来的主机名，好在不影响使用，但总卡几秒钟并且需要重复输入密码很烦人。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;解决方法&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; sudo vim /etc/hosts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_1.png&#34;
	width=&#34;1481&#34;
	height=&#34;790&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_1_huaa5dd1f91154c4573c12679ded263d43_82452_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/nschap0x01/assets/imgs/debug_1_1_huaa5dd1f91154c4573c12679ded263d43_82452_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;sudoError_2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;187&#34;
		data-flex-basis=&#34;449px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lihan3238.github.io/p/virtualnetwork/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VirtualBox虚拟机几种网络的区别&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.xxapp.net/12209.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Debian 修改主机名的方法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/read/cv20438982/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Ubuntu / Debian: sudo 出现 unable to resolve host 错误解决办法&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://lihan3238.github.io/p/linuxstudy/#ssh%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;linux虚拟机安装与配置/ssh免密登录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://courses.cuc.edu.cn/course/111120/learning-activity/full-screen#/561690&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;黄老师的畅课视频回放&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>VirtualBox虚拟机几种网络的区别</title>
        <link>lihan3238.github.io/p/virtualnetwork/</link>
        <pubDate>Wed, 20 Sep 2023 16:57:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/virtualnetwork/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/virtualnetwork/netWork.png" alt="Featured image of post VirtualBox虚拟机几种网络的区别" /&gt;&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;配置VirtualBox虚拟机网络时，有几种网络模式，这里做一个总结。
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/virtualboxNetwork_1.png&#34;
	width=&#34;915&#34;
	height=&#34;545&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/virtualboxNetwork_1_hu87de7d2dbff4cb56e6ff61d8da33d3c4_25977_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/virtualboxNetwork_1_hu87de7d2dbff4cb56e6ff61d8da33d3c4_25977_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;167&#34;
		data-flex-basis=&#34;402px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;网络模式&#34;&gt;网络模式&lt;/h2&gt;
&lt;h3 id=&#34;网络地址转换nat&#34;&gt;网络地址转换NAT&lt;/h3&gt;
&lt;p&gt;在VirtualBox中，当使用NAT模式时，多个虚拟机的IP地址相同。如果您将2个或多个虚拟机的网络适配器配置为使用NAT模式，每个虚拟机将在一个隔离网络的虚拟NAT设备后获得一个10.0.2.15的IP地址。每个虚拟机的默认网关是10.0.2.2。
VirtualBox网络使用NAT网络模式的时候，虚拟机上的操作系统也可以访问外部网络，包括互联网；宿主机或其所在局域网的其他服务器不能直接访问虚拟机。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT.png&#34;
	width=&#34;1154&#34;
	height=&#34;635&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT_hu47226f02f23f50ccf713ec812e209103_74577_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT_hu47226f02f23f50ccf713ec812e209103_74577_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;181&#34;
		data-flex-basis=&#34;436px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;nat网络&#34;&gt;NAT网络&lt;/h3&gt;
&lt;p&gt;NAT网络模式，不能从宿主机访问客机（除非你在全局VirtualBox网络设置中配置了端口转发）。一个内置的VirtualBox NAT路由器使用VirtualBox主机的物理网络接口控制器作为外部网络接口（和NAT模式一样）。
如果你对多个虚拟机使用NAT网络模式，它们可以通过网络相互通信。虚拟机可以访问物理网络中的其他主机，也可以访问外部网络，包括互联网。任何来自外部网络的机器以及宿主机所连接的物理局域网的机器都不能访问被配置为使用NAT网络模式的虚拟机。&lt;/p&gt;
&lt;p&gt;NAT网络的默认地址是10.0.2.0/24。默认的网关IP地址是10.0.2.1（x.x.x.1的ip模版通常被用于设置默认网关IP），比如，如果你在virtualbox中配置了基于NAT网络模式的虚拟网络，设置了192.168.22.0/24的网络地址，则这个网络的网关地址会是192.168.22.1。&lt;/p&gt;
&lt;p&gt;在NAT网络模式下，你不能改变网关的IP地址，也不能改变由DHCP服务器分配的IP地址范围。类似的，DHCP服务器的IP地址默认是10.0.2.3（使用x.x.x.3的模版）。
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/NAT%E7%BD%91%E7%BB%9C.png&#34;
	width=&#34;1154&#34;
	height=&#34;641&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/NAT%E7%BD%91%E7%BB%9C_hu772dd25bdc400f65b627a08f65abb7df_75218_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/NAT%E7%BD%91%E7%BB%9C_hu772dd25bdc400f65b627a08f65abb7df_75218_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;180&#34;
		data-flex-basis=&#34;432px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;桥接网卡桥接适配器&#34;&gt;桥接网卡(桥接适配器)&lt;/h3&gt;
&lt;p&gt;将虚拟机的虚拟网络适配器与VirtualBox主机的物理网络适配器相连。虚拟机的虚拟网络适配器使用主机网络接口进行网络连接。简单地说，虚拟网络适配器直接发送或接收网络数据包，不使用额外的路由。
宿主机所在的物理本地局域网的服务器都能独立对等地访问跑在虚拟机上的服务器。桥接模式下运行的虚拟网络适配器的默认网关与主机的默认网关相同.
你可以从虚拟机访问宿主机、宿主机所在物理网络的其他主机以及外部网络，包括互联网。虚拟机也可以被同一物理局域网中的宿主机以及其他主机（或虚拟机）所访问。如果你在宿主机上有多个物理网络适配器，你应该在VirtualBox网络设置中选择正确的适配器。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E6%A1%A5%E6%8E%A5%E7%BD%91%E5%8D%A1.png&#34;
	width=&#34;1154&#34;
	height=&#34;464&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E6%A1%A5%E6%8E%A5%E7%BD%91%E5%8D%A1_hubbe269ff4dd0ec578b331ecfb83d8825_66446_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/%E6%A1%A5%E6%8E%A5%E7%BD%91%E5%8D%A1_hubbe269ff4dd0ec578b331ecfb83d8825_66446_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;248&#34;
		data-flex-basis=&#34;596px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;混杂模式&lt;/code&gt;这种模式允许网络适配器中转所有接收到的流量，无论流量是寻址哪个适配器的。在正常模式下，网络适配器只接收包括该特定网络适配器的MAC地址作为目标地址的帧。在正常模式下，被寻址到与所选适配卡的MAC地址不同的MAC地址的帧（当流量不是广播时）会被丢弃。混杂模式使一个物理网络适配器有多个MAC地址成为可能，允许所有传入的流量通过主机的物理网络适配器，到达虚拟机的虚拟网络适配器，该虚拟机有自己的MAC地址，并被认为是宿主机物理适配器上的另一个mac地址，即使该流量并不是寻址该特定虚拟机的虚拟网络适配器。
使用混杂模式有三个选项：&lt;/p&gt;
&lt;p&gt;1、Deny。&lt;/p&gt;
&lt;p&gt;任何不以虚拟机的虚拟网卡为目的地的流量都将被屏蔽。这个选项是默认设置。&lt;/p&gt;
&lt;p&gt;2、Allow VMs。&lt;/p&gt;
&lt;p&gt;除了去向或来自于虚拟机的流量，其他流量都将被屏蔽。&lt;/p&gt;
&lt;p&gt;3、Allow ALL。&lt;/p&gt;
&lt;p&gt;这一模式下没有限制，虚拟机的网卡可以看到所有进来、出去的流量。混杂模式不仅可以用于桥接网络模式，也可以用于NAT网络模式，Internal网络模式和Host-only适配器模式。&lt;/p&gt;
&lt;h3 id=&#34;内部网络internal-network&#34;&gt;内部网络(Internal Network)&lt;/h3&gt;
&lt;p&gt;VirtualBox中的虚拟机网卡被配置成Internal network模式的时候，他们会被接入一个隔离的虚拟网络。在这个隔离的虚拟网络中，虚拟机之间可以互相通信，但是他们不能和Virtualbox中的宿主机通信，不能和宿主机所在的局域网中的其他主机通信，也不能外部网络通信。宿主机或其他设备可以访问接入到Internal Network中的虚拟机。Virtualbox中的Internal network可以用来模拟真实网络。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InternalNetwork.png&#34;
	width=&#34;1153&#34;
	height=&#34;654&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InternalNetwork_huf2917c84ddf52eb9598f904a903ba1c0_72269_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InternalNetwork_huf2917c84ddf52eb9598f904a903ba1c0_72269_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;176&#34;
		data-flex-basis=&#34;423px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;host-only仅主机网络&#34;&gt;Host-Only仅主机网络&lt;/h3&gt;
&lt;p&gt;这种网络模式用于在宿主机和虚拟机之间进行通信。一个虚拟机可以与连接到host-only网络的其他虚拟机通信，也可以与宿主机通信。VirtualBox宿主机可以访问所有连接到host-only网络的虚拟机。
虚拟机的虚拟网络适配器在其IP配置中没有网关，因为host-only模式不允许你连接到host-only网络以外的任何设备。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/HostOnly.png&#34;
	width=&#34;1153&#34;
	height=&#34;640&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/HostOnly_hu8f76bf22819aef0eaa9ecfcb965630b0_75187_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/HostOnly_hu8f76bf22819aef0eaa9ecfcb965630b0_75187_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;180&#34;
		data-flex-basis=&#34;432px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;端口转发port-forward&#34;&gt;端口转发(Port Forward)&lt;/h3&gt;
&lt;p&gt;端口转发是将寻址向某个IP地址和端口的流量转发到另一个不同的IP地址和端口的处理操作。服务器和其他路由设备上可以使用专门应用程序来实现端口转发。端口转发最常用的一个应用场景是为隐藏在NAT后边的特定的网络设备提供外部网络访问入口。&lt;/p&gt;
&lt;p&gt;配置完端口转发规则后，客户端可以通过连接路由器（或主机）外部IP地址和专用端口来访问特定的服务。网络包会首先被路由器上的一个应用程序所截获，然后这个应用程序会读取网络包头中的目的IP地址和端口号（IP包头，含有TCP或UDP段的包头）。如果包头中目的IP地址和端口号的组合能与端口转发规则集合中的某个条件匹配上，路由器程序就会重写包头中的信息（IP地址和/或端口号），并根据端口转发规则将包/段发送给另一个网络接口。&lt;/p&gt;
&lt;p&gt;默认情况下，VirtualBox宿主机和其他局域网中的主机不能访问网络适配器被设置成NAT或NAT Network模式-的VirtualBox虚拟机，但是VirutalBox提供了内置的端口转发特性支持了这种类型的访问。&lt;/p&gt;
&lt;h3 id=&#34;总结&#34;&gt;总结&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InAWord.png&#34;
	width=&#34;780&#34;
	height=&#34;268&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InAWord_huaf7b0227bfad9a391e6ca8d1bcae6c18_33042_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/virtualnetwork/InAWord_huaf7b0227bfad9a391e6ca8d1bcae6c18_33042_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;291&#34;
		data-flex-basis=&#34;698px&#34;
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>linux虚拟机安装与配置</title>
        <link>lihan3238.github.io/p/linuxstudy/</link>
        <pubDate>Sat, 09 Sep 2023 00:00:00 +0800</pubDate>
        
        <guid>lihan3238.github.io/p/linuxstudy/</guid>
        <description>&lt;img src="/lihan3238.github.io/p/linuxstudy/ubuntu.png" alt="Featured image of post linux虚拟机安装与配置" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/xiongyangg/article/details/110206220&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;新网卡配置&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;前置&#34;&gt;前置&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/1.png&#34;
	width=&#34;1913&#34;
	height=&#34;950&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/1_hu8bd62e395eed8118ac7376c6d9c390f1_57374_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/1_hu8bd62e395eed8118ac7376c6d9c390f1_57374_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;1&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;201&#34;
		data-flex-basis=&#34;483px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/2.png&#34;
	width=&#34;1269&#34;
	height=&#34;961&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/2_hua5a0be99e93f3c8af4045095020f9dac_21889_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/2_hua5a0be99e93f3c8af4045095020f9dac_21889_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;2&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;132&#34;
		data-flex-basis=&#34;316px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3.png&#34;
	width=&#34;799&#34;
	height=&#34;252&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3_hu7939d79515544397210b59c74a8c4338_6079_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3_hu7939d79515544397210b59c74a8c4338_6079_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;3&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;317&#34;
		data-flex-basis=&#34;760px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;姓名主机名用户名&#34;&gt;姓名、主机名、用户名&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3.5.png&#34;
	width=&#34;669&#34;
	height=&#34;446&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3.5_hufad1dd751dc6efae78e534e7941d9b17_121851_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/3.5_hufad1dd751dc6efae78e534e7941d9b17_121851_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;3.5&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;150&#34;
		data-flex-basis=&#34;360px&#34;
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;您的姓名-&amp;gt;指的是计算机登录时，显示的名字，与下面的2行密码(这个密码是用户名的密码，非姓名的密码，而且这个密码可以)配合登录计算机，登录之后就没什么用了
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;计算机名-&amp;gt;指的是计算机登录之后的主机名，也就是hostname，在shell终端中输入hostname，会显示该名称，同时，shell终端的命令提示符格式就是：user@hostname:~$:   这个hostname就是这个计算机名，至于它的作用，自行百度即可
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;用户名：-&amp;gt;指的是计算机登录之后的用户名，在shell终端中使用w命令可以查看当前所有登录过的用户名，使用who/whoami可以查看当前登录的用户名，使用ssh远程登录时，需要使用的就是用户名
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;配置虚拟机双网卡&#34;&gt;配置虚拟机双网卡&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/4.png&#34;
	width=&#34;1392&#34;
	height=&#34;531&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/4_hu7557044816b98cff5bd7429ee6ab7a05_31323_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/4_hu7557044816b98cff5bd7429ee6ab7a05_31323_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;4&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;262&#34;
		data-flex-basis=&#34;629px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/5.png&#34;
	width=&#34;913&#34;
	height=&#34;511&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/5_hu3e9df41a235643b02a01326eb6b0a26b_22439_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/5_hu3e9df41a235643b02a01326eb6b0a26b_22439_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;5&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;178&#34;
		data-flex-basis=&#34;428px&#34;
	
&gt;
如果为ubuntu新添加了网卡，那么通过命令ifconfig -a可以看到所有网卡，但是可能有网卡没有工作，这个情况下使用ifconfig就会看到出现网卡比使用参数-a少，那没有出现的网卡就是没有生效。&lt;/p&gt;
&lt;p&gt;所有网卡：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xanarry@vbs:~$ ip addr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enp0s3: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 fe80::a00:27ff:fe34:4ea1  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ether 08:00:27:34:4e:a1  txqueuelen 1000  (Ethernet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 489  bytes 46089 (46.0 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 337  bytes 44455 (44.4 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enp0s8: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 fe80::a00:27ff:fea2:190e  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ether 08:00:27:a2:19:0e  txqueuelen 1000  (Ethernet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 46  bytes 4880 (4.8 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 20  bytes 2761 (2.7 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet 127.0.0.1  netmask 255.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        loop  txqueuelen 1000  (Local Loopback)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 90  bytes 6813 (6.8 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 90  bytes 6813 (6.8 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;工作网卡：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xanarry@vbs:~$ ifconfig
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enp0s3: flags=4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 fe80::a00:27ff:fe5e:ad3f  prefixlen 64  scopeid 0x20&amp;lt;link&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ether 08:00:27:5e:ad:3f  txqueuelen 1000  (Ethernet)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 78  bytes 9938 (9.9 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 70  bytes 13068 (13.0 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lo: flags=73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet 127.0.0.1  netmask 255.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        loop  txqueuelen 1000  (Local Loopback)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX packets 84  bytes 6324 (6.3 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        RX errors 0  dropped 0  overruns 0  frame 0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX packets 84  bytes 6324 (6.3 KB)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;如何生效：
ubuntu20网络的配置信息将不在保存在/etc/network/interfaces文件中，虽然该文件依然存在，但是内容是空的。新系统已经使用netplan管理网络，对于配置信息，使用vim打开文件sudo vim /etc/netplan/00-installer-config.yaml，内容如下，可以看到网卡enp0s3下面有参数dhcp4: true，说明该网卡开启了dhch地址分配，但是并没有出现enp0s8，所以手动加入enp0s8。&lt;/p&gt;
&lt;p&gt;注意：yaml文件名在不同的机器上文件名可能不同。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ethernets:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    enp0s3:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      dhcp4: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  version: 2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;添加过后的内容为：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ethernets:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    enp0s3:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      dhcp4: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    enp0s8:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      dhcp4: true
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  version: 2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;最后执行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo netplan apply
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;生效&lt;/p&gt;
&lt;h5 id=&#34;参考httpsubuntucomserverdocsnetwork-configurationhttpsubuntucomserverdocsnetwork-configuration&#34;&gt;参考&lt;a class=&#34;link&#34; href=&#34;https://ubuntu.com/server/docs/network-configuration&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ubuntu.com/server/docs/network-configuration&lt;/a&gt;&lt;/h5&gt;
&lt;h5 id=&#34;万能httpsgitcuceducnccslinux-2023limingxuanhttpsgitcuceducnccslinux-2023limingxuan&#34;&gt;万能&lt;a class=&#34;link&#34; href=&#34;https://git.cuc.edu.cn/ccs/linux-2023/LiMingxuan&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://git.cuc.edu.cn/ccs/linux-2023/LiMingxuan&lt;/a&gt;&lt;/h5&gt;
&lt;h2 id=&#34;scp传输文件&#34;&gt;scp传输文件&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scp test.txt lihan@192.168.56.103:/home/lihan/leo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lihan@192.168.56.103&amp;#39;s password:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;一定要加上&amp;rsquo;:&amp;rsquo;,不能多打空格！！&lt;/li&gt;
&lt;li&gt;记得无论是linux&amp;ndash;&amp;gt;windows还是回传，都是在windows命令行操作&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scp lihan@192.168.56.103:/home/lihan/leo/test.txt D:\大二学习\Linux\自学
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lihan@192.168.56.103&amp;#39;s password:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;vim操作&#34;&gt;vim操作&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;按i进行插入&lt;/li&gt;
&lt;li&gt;:q!不保存退出 :wq!保存退出&lt;/li&gt;
&lt;li&gt;记得sudo&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ssh免密登录&#34;&gt;ssh免密登录&lt;/h2&gt;
&lt;h3 id=&#34;1ssh登录bad-permission&#34;&gt;1.ssh登录Bad permission&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;找到.ssh文件夹。它通常位于C:\Users，例如C:\Users\Akkuman。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;右键单击.ssh文件夹，然后单击“属性”。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;找到并点击“安全”标签。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;然后单击“高级”。 单击“禁用继承”，单击“确定”。 将出现警告弹出窗口。单击“从此对象中删除所有继承的权限”。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;你会注意到所有用户都将被删除。让我们添加所有者。在同一窗口中，单击“编辑”按钮。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;接下来，单击“添加”以显示“选择用户或组”窗口。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;单击“高级”，然后单击“立即查找”按钮。应显示用户结果列表。 选择您的用户帐户。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;然后单击“确定”（大约三次）以关闭所有窗口。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;完成所有操作后，再次关闭并打开VSCode 并尝试连接到远程SSH主机。
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;现在这个问题应该解决了
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;2ssh免密登录配置以windows远程登录虚拟机linux为例&#34;&gt;2.ssh免密登录配置（以windows远程登录虚拟机linux为例）&lt;/h3&gt;
&lt;h4 id=&#34;确保linux和windows都有ssh后首先在windows下生成公私钥&#34;&gt;确保linux和windows都有ssh后，首先在windows下生成公私钥&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen -b 4096
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;弹出提示命名（如果只有一个公私钥对就直接按回车用默认命名），进行命名
弹出提示密码，直接回车两次跳过设置密码&lt;/p&gt;
&lt;h4 id=&#34;将生成在cusersleossh下的公钥xxxxpubscp发送到linux的homelihanssh目录下并替换authorized_keys文件内容&#34;&gt;将生成在C:\Users\leo.ssh下的公钥xxxx.pubscp发送到linux的/home/lihan/.ssh目录下，并替换authorized_keys文件内容&lt;/h4&gt;
&lt;h4 id=&#34;注意-如果有多个免密登录配置记得在windows的cusersleossh目录下修改config文件指定公私钥地址&#34;&gt;注意 如果有多个免密登录配置，记得在windows的C:\Users\leo.ssh目录下，修改config文件，指定公私钥地址&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/6.png&#34;
	width=&#34;887&#34;
	height=&#34;436&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/6_hu944206f6cdf2099e52e97089ef8cc037_24580_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/6_hu944206f6cdf2099e52e97089ef8cc037_24580_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;203&#34;
		data-flex-basis=&#34;488px&#34;
	
&gt;
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/7.png&#34;
	width=&#34;1014&#34;
	height=&#34;772&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/7_huf59518bd95d59d6132ac38042c96d5d3_28504_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/7_huf59518bd95d59d6132ac38042c96d5d3_28504_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;131&#34;
		data-flex-basis=&#34;315px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;若仍存在问题&#34;&gt;若仍存在问题&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vim /etc/ssh/sshd_config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;修改
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PubkeyAuthentication yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AuthorizedKeysFile .ssh/authorized_keys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;添加
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RSAAuthentication yes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;共享文件夹&#34;&gt;共享文件夹&lt;/h3&gt;
&lt;p&gt;首先安装客机增强键&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载&lt;a class=&#34;link&#34; href=&#34;http://download.virtualbox.org/virtualbox/7.0.10/VBoxGuestAdditions_7.0.10.iso&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;VBoxGuestAddtions_7.0.10&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载好后，在储存介质中挂载
&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/8.png&#34;
	width=&#34;1920&#34;
	height=&#34;991&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/8_hua78ff3ffc0ef6338b43cd2b8d4a483cd_77432_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/8_hua78ff3ffc0ef6338b43cd2b8d4a483cd_77432_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;193&#34;
		data-flex-basis=&#34;464px&#34;
	
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;打开虚拟机安装&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#提权
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo su
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#更新apt-get
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get update  &amp;amp;&amp;amp;  apt-get upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#安装依赖工具
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get install dkms  &amp;amp;&amp;amp; apt-get install build-essential3. reboot4. 登陆后 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#选择设备-&amp;gt;安装增强功能（报错不用管 叉掉）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;![](9.png)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#挂载cdrom
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount /dev/cdrom /mnt/ 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;出现 warning不用管
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#安装
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/mnt/VBoxLinuxAddtions.run
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#卸载
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;umount /mnt/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;挂载共享文件夹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/10.png&#34;
	width=&#34;1920&#34;
	height=&#34;1020&#34;
	srcset=&#34;lihan3238.github.io/lihan3238.github.io/p/linuxstudy/10_huec8f0a46d2281f11360dc81300407bb8_89150_480x0_resize_box_3.png 480w, lihan3238.github.io/lihan3238.github.io/p/linuxstudy/10_huec8f0a46d2281f11360dc81300407bb8_89150_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;188&#34;
		data-flex-basis=&#34;451px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;执行共享文件夹的挂载命令&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mount -t vboxsf [你设置的共享文件夹名称名称] [挂载后的本地路径]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#例如
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mount -t vboxsf virtualBoxFile /home/lihan/win_share
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;安装好后就可以删掉客机增强键的包了&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;使用sudo出现问题xxx-is-not-in-the-sudoers-file&#34;&gt;使用sudo出现问题：xxx is not in the sudoers file&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;输入指令&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 进入root用户中，$变成了#
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;su
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;输入指令&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo adduser vboxuser sudo 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;注意，vboxuser就是我被玩坏，需恢复的用户，大家记得替换成自己的用户名
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;重启后就好了&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;linux-clash&#34;&gt;linux clash&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://dreamacro.github.io/clash/zh_CN/introduction/service.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://dreamacro.github.io/clash/zh_CN/introduction/service.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;然后打开&lt;a class=&#34;link&#34; href=&#34;clash.razord.top/&#34; &gt;clash.razord.top/&lt;/a&gt;配置，7890或者9090端口&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
